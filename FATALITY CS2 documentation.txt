# First Steps

Now that you’ve covered the essentials, it’s time to start scripting.

### Fire up a text editor﻿

Feel free to use any text editor you prefer: [Visual Studio Code](https://code.visualstudio.com/), [Notepad++](https://notepad-plus-plus.org/downloads/), or even a simple Notepad.

Local scripts are located here: `<CS2_Directory>/game/csgo/fatality/scripts`. You may notice there's also a `lib` directory, but we’ll get to that later.

Create a new file ending with `.lua`, and begin your work on the script.\


{% hint style="info" %}
`.ljbc` format cannot be loaded from local sources.
{% endhint %}

### Writing your first script﻿ <a href="#writing-your-first-script" id="writing-your-first-script"></a>

A typical “Hello world!” example can be a bit trivial, so let’s try something slightly more advanced instead.

```lua
local function on_present_queue()
    local d = draw.surface;
    d.font = draw.fonts['gui_main'];
    d:add_text(draw.vec2(50, 50),
        'Hello drawing! My first script speaking.',
         draw.color.white()
    );
end

events.present_queue:add(on_present_queue);
```

Now, let's break down this example script:

### Defining a callback function﻿ <a href="#defining-a-callback-function" id="defining-a-callback-function"></a>

Most of your scripting will run within [several callbacks](../../api/instances/events) we provide. Each event has its own signature, so pay attention to the parameters your callback function should accept. `present_queue` doesn’t provide any parameters, so our function doesn’t need any either.

```lua
local function on_present_queue()
end
```

{% hint style="info" %}
Defining something `local` is optional, although recommended for clearer scope management.
{% endhint %}

### Accessing drawing layer﻿ <a href="#accessing-drawing-layer" id="accessing-drawing-layer"></a>

With the callback function defined, let’s actually render something on the screen!

To do this, you first need to access the [drawing layer](../../api/instances/draw). We provide a single drawing layer that’s safe to use within the game thread. Due to how the game functions internally, it’s strongly discouraged to call game functions in other threads. Luckily all of our events run in the game thread.

This setup allows you not only to draw but also to query information on player health or other entities.

To access the layer, simply reference the `surface` field in the `draw` table:

```lua
local d = draw.surface;
```

{% hint style="info" %}
You don't have to store it in a variable, but it would be nicer if you don't have to type out `draw.surface` every time, right?
{% endhint %}

#### Setting a font﻿ <a href="#setting-a-font" id="setting-a-font"></a>

After retrieving the layer, you must set a font object before drawing any text on the screen. This is purely for performance reasons, so you don’t have to pass a heavy font object every time you draw text.

All fonts are stored in [`draw.fonts`](../../../api/instances/draw#fonts). To access a font, either use dot syntax, or treat it like a dictionary:

```lua
d.font = draw.fonts['gui_main'];
```

#### Drawing text﻿ <a href="#drawing-text" id="drawing-text"></a>

With the font set, it’s time to draw some text.

Invoke the [`add_text`](../../../api/instances/draw/layer#add-text) method on the layer. Notice that it’s called using the colon syntax: `obj:fn()`, because it’s a method.

{% hint style="info" %}
You can also invoke methods with a dot syntax, as long as you provide the object in the first argument. Both calls: `obj:fn()` and `obj.fn(obj)` are identical.
{% endhint %}

```lua
d:add_text(draw.vec2(50, 50),
        'Hello drawing! My first script speaking brev.',
         draw.color.white()
    );
```

#### Registering a callback﻿ <a href="#registering-a-callback" id="registering-a-callback"></a>

Now that you’ve created your first callback, you need to register it so Fatality knows to invoke it. This is done by calling the [`add`](../../../api/instances/events/event_t#add) method on [`events.present_queue`](../../../api/instances/events#present-queue).

```lua
events.present_queue:add(on_present_queue);
```

### Result﻿ <a href="#result" id="result"></a>

That's it! If you've done everything correctly, you should see something like this:

<div align="left" data-full-width="false"><figure><img src="https://2267301601-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FGXl3mJ7rIlEGl0zYZZu0%2Fuploads%2FcGKDJJzgdAGaEE8p9Bbk%2Ffs.png?alt=media&#x26;token=d7299e15-9a51-42b2-a9ce-75b00967585a" alt=""><figcaption><p>My first lua</p></figcaption></figure></div>

<figure><img src="https://lua.fatality.win/images/fs.png" alt=""><figcaption></figcaption></figure>
# Adding UI

## Adding UI﻿ <a href="#adding-ui.md" id="adding-ui.md"></a>

Now that you know the basics, let’s extend our script by allowing the user to toggle the text. We can do this by adding a control to the menu.

### Creating a control﻿ <a href="#creating-a-control" id="creating-a-control"></a>

Let’s start by creating a simple checkbox:

```lua
local cb = gui.checkbox(gui.control_id('my_checkbox'));
```

Each control has a unique ID, which the UI framework uses to distinguish controls within containers. It’s very important that your control’s ID doesn’t conflict with others, as that could result in a broken state or worse.

To create the ID, call [`gui.control_id`](../../api/instances/gui/types/control_id) and pass the desired ID.

Then, create the checkbox by calling [`gui.checkbox`](../../api/instances/gui/control/checkbox) and passing the ID structure you've created.

### Constructing the row﻿ <a href="#constructing-the-row" id="constructing-the-row"></a>

By default, controls are typically placed in rows - layouts that stack elements in a specific manner. We provide a simple helper function - [`gui.make_control`](../../../api/instances/gui#make-control).

```lua
local row = gui.make_control('My checkbox', cb);
```

### Adding the row to a group﻿ <a href="#adding-the-row-to-a-group" id="adding-the-row-to-a-group"></a>

With the control and row ready, let’s add them to a group.

{% hint style="info" %}
To view group and control IDs, you can enable Debug mode in the SCRIPTS tab.
{% endhint %}

In this example, we'll use the `lua>elements a` group. First, locate that group in the global context:

```lua
local group = gui.ctx:find('lua>elements a');
```

Then call its [`add`](../../../api/instances/gui/container#add) method to include your row:

```lua
group:add(row);
```

That's it!

{% hint style="info" %}
It is very important to call [`reset()`](../../../api/instances/gui/control#reset) method if you add multiple controls, so the layout will stack everything correctly.
{% endhint %}

### Using the value﻿ <a href="#using-the-value" id="using-the-value"></a>

Next, let’s modify our previous script so the text only appears if the checkbox is checked. Wrap your drawing code in an `if` statement before rendering the text:

```lua
if cb:get_value():get() then
```

and close it after.

The final script should look something like this:

```lua
local cb = gui.checkbox(gui.control_id('my_checkbox'));
local row = gui.make_control('My checkbox', cb);
local group = gui.ctx:find('lua>elements a');
group:add(row);

local function on_present_queue()
    if cb:get_value():get() then
        local d = draw.surface;
        d.font = draw.fonts['gui_main'];
        d:add_text(draw.vec2(50, 50),
            'Hello drawing! My first script speaking.',
            draw.color.white()
        );
    end
end

events.present_queue:add(on_present_queue);
```

And here's the result:

<div align="left"><figure><img src="https://2267301601-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FGXl3mJ7rIlEGl0zYZZu0%2Fuploads%2Ft2rS80HPY7FE8eAAdZwF%2Fex1.png?alt=media&#x26;token=7b24e2df-0fd3-4685-8f99-a73765239491" alt=""><figcaption></figcaption></figure></div>
# Global Functions

Below is a list of all global functions. By “global”, we mean these functions do not require a preceding namespace - so you can call them directly, unlike other functions.

## print﻿ <a href="#print" id="print"></a>

<mark style="color:blue;">**`Function`**</mark>

Prints text to game's console.

#### Arguments

| Name  | Type | Description                     |
| ----- | ---- | ------------------------------- |
| `...` | ...  | Values to print in the console. |

**Example**

```lua
print('Hello world!', 123); -- prints out "Hello world! 123" to the console
```





***



## error﻿ <a href="#error" id="error"></a>

<mark style="color:blue;">**`Function`**</mark>

Prints an error text to game's console, and shuts down the script. Try to avoid using this function - use it only if an error happens which you can't recover from.

#### Arguments

| Name   | Type   | Description                               |
| ------ | ------ | ----------------------------------------- |
| `text` | string | Read [`print`](#print) for documentation. |

**Example**

```lua
error('Can't recover from this one! Error: ' .. tostring(123));
```
# math

<table data-full-width="false"><thead><tr><th width="182">Usage: math.{func}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This table extends the existing `math` table that is a part of Lua.

## calc\_angle﻿ <a href="#calc-angle" id="calc-angle"></a>

<mark style="color:blue;">**`Function`**</mark>

Calculates angles between 2 vectors.

**Arguments**

| Name  | Type                        | Description         |
| ----- | --------------------------- | ------------------- |
| `src` | [`vector`](../types/vector) | Source vector.      |
| `dst` | [`vector`](../types/vector) | Destination vector. |

**Returns**

| Type                        | Description |
| --------------------------- | ----------- |
| [`vector`](../types/vector) | Angles.     |

**Example**

```lua
local ang = math.calc_angle(vec1, vec2);
```

***

## angle\_normalize﻿ <a href="#angle-normalize" id="angle-normalize"></a>

<mark style="color:blue;">**`Function`**</mark>

Normalizes an angle.

**Arguments**

| Name    | Type    | Description  |
| ------- | ------- | ------------ |
| `angle` | `float` | Input angle. |

**Returns**

| Type    | Description       |
| ------- | ----------------- |
| `float` | Normalized angle. |

**Example**

```lua
local norm = math.angle_normalize(560);
```

***

## approach\_angles﻿ <a href="#approach-angles" id="approach-angles"></a>

<mark style="color:blue;">**`Function`**</mark>

Approaches an angle over time.

**Arguments**

| Name    | Type                        | Description     |
| ------- | --------------------------- | --------------- |
| `from`  | [`vector`](../types/vector) | Start angle.    |
| `to`    | [`vector`](../types/vector) | End angle.      |
| `speed` | `float`                     | Approach speed. |

**Returns**

| Type                        | Description  |
| --------------------------- | ------------ |
| [`vector`](../types/vector) | Delta angle. |

**Example**

```lua
local ang = math.approach_angles(from, to, 1.0 / game.global_vars.frametime);
```

***

## edge\_point﻿ <a href="#edge-point" id="edge-point"></a>

<mark style="color:blue;">**`Function`**</mark>

Returns a point on the edge of a box.

**Arguments**

| Name     | Type                        | Description              |
| -------- | --------------------------- | ------------------------ |
| `mins`   | [`vector`](../types/vector) | Box mins.                |
| `maxs`   | [`vector`](../types/vector) | Box maxs.                |
| `dir`    | [`vector`](../types/vector) | Point direction (angle). |
| `radius` | `float`                     | Area radius.             |

**Returns**

| Type                        | Description |
| --------------------------- | ----------- |
| [`vector`](../types/vector) | Point.      |

**Example**

```lua
local point = math.edge_point(mins, maxs, dir, 5);
```

***

## lerp﻿ <a href="#lerp" id="lerp"></a>

<mark style="color:blue;">**`Function`**</mark>

Linear interpolation.

**Arguments**

| Name       | Type    | Description           |
| ---------- | ------- | --------------------- |
| `t1`       | `float` | Start value.          |
| `t2`       | `float` | End value.            |
| `progress` | `float` | Interpolation amount. |

**Returns**

| Type    | Description         |
| ------- | ------------------- |
| `float` | Interpolated value. |

**Example**

```lua
local mid = math.lerp(0, 100, 0.5);
```

***

## vector\_angles﻿ <a href="#vector-angles" id="vector-angles"></a>

<mark style="color:blue;">**`Function`**</mark>

Calculates angles from a vector.

**Arguments**

| Name      | Type                        | Description                   |
| --------- | --------------------------- | ----------------------------- |
| `forward` | [`vector`](../types/vector) | Source vector.                |
| `up`      | [`vector`](../types/vector) | Up vector. Defaults to `nil`. |

**Returns**

| Type                        | Description |
| --------------------------- | ----------- |
| [`vector`](../types/vector) | Angles.     |

**Example**

```lua
local ang = math.vector_angles(fw);
```

***

## world\_to\_screen﻿ <a href="#world-to-screen" id="world-to-screen"></a>

<mark style="color:blue;">**`Function`**</mark>

Transforms a point in the game world onto the viewport.

**Arguments**

| Name    | Type                        | Description                                          |
| ------- | --------------------------- | ---------------------------------------------------- |
| `xyz`   | [`vector`](../types/vector) | Point in the world.                                  |
| `round` | `bool`                      | Whether should round the output. Defaults to `true`. |

**Returns**

| Type                      | Description            |
| ------------------------- | ---------------------- |
| [`vec2`](draw/types/vec2) | Point on the viewport. |

**Example**

```lua
local point = math.world_to_screen(game_point);
```

***

## clamp﻿ <a href="#clamp" id="clamp"></a>

<mark style="color:blue;">**`Function`**</mark>

Clamps a value between min and max.

**Arguments**

| Name    | Type    | Description    |
| ------- | ------- | -------------- |
| `n`     | `float` | Value.         |
| `lower` | `float` | Lowest value.  |
| `upper` | `float` | Highest value. |

**Returns**

| Type    | Description    |
| ------- | -------------- |
| `float` | Clamped value. |

**Example**

```lua
local x = math.clamp(50, 5, 25); -- 25
```

***

## remap\_val﻿ <a href="#remap-val" id="remap-val"></a>

<mark style="color:blue;">**`Function`**</mark>

Maps the value from one range to another range.

**Arguments**

| Name  | Type    | Description                |
| ----- | ------- | -------------------------- |
| `val` | `float` | Value.                     |
| `a`   | `float` | Lowest source value.       |
| `b`   | `float` | Highest source value.      |
| `c`   | `float` | Lowest destination value.  |
| `d`   | `float` | Highest destination value. |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `float` | Mapped value. |

**Example**

```lua
local mapped = math.remap_val(0.5, 0, 1, 0, 100); -- 50
```

***

## remap\_val\_clamped﻿ <a href="#remap-val-clamped" id="remap-val-clamped"></a>

<mark style="color:blue;">**`Function`**</mark>

Maps the value from one range to another range. Additionally, clamps the value based on the source range.

**Arguments**

| Name  | Type    | Description                |
| ----- | ------- | -------------------------- |
| `val` | `float` | Value.                     |
| `a`   | `float` | Lowest source value.       |
| `b`   | `float` | Highest source value.      |
| `c`   | `float` | Lowest destination value.  |
| `d`   | `float` | Highest destination value. |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `float` | Mapped value. |

**Example**

```lua
local mapped = math.remap_val_clamped(5, 0, 1, 0, 100); -- 100
```

***

## vec2﻿ <a href="#vec2" id="vec2"></a>

<mark style="color:blue;">**`Function`**</mark>

An alias to [`draw.vec2()`](#vec2).

**Example**

```lua
local vec = math.vec2(5, 5);
```

***

## vec3﻿ <a href="#vec3" id="vec3"></a>

<mark style="color:blue;">**`Function`**</mark>

An alias to [`vector()`](../types/vector).

**Example**

```lua
local vec = math.vec3(5, 12, 5);
```
# events

<table><thead><tr><th width="261">Usage: events.{event_name}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

There are a number of events that Fatality provides to use in the API - from various hooks, to in-game events. Each event entry is an object of [`event_t`](events/event_t). This table documents events to be used by your scripts.

{% hint style="info" %}
You are not required to remove events when your script unloads. It is done automatically by the API engine.
{% endhint %}

## present\_queue﻿ <a href="#present-queue" id="present-queue"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked each time the game queues a frame for rendering. This is the only permitted location for drawing on screen.

**Arguments**

None.

***

## frame\_stage\_notify﻿ <a href="#frame-stage-notify" id="frame-stage-notify"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time the game progresses onto another frame stage. This event is called before the game handles a new frame stage.

**Arguments**

| Name    | Type                                                | Description          |
| ------- | --------------------------------------------------- | -------------------- |
| `stage` | [`client_frame_stage`](../enums/client_frame_stage) | Current frame stage. |

***

## render\_start\_pre﻿ <a href="#render-start-pre" id="render-start-pre"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time game starts the scene rendering process. This event is called before the game's function runs.

**Arguments**

None.

***

## render\_start\_post﻿ <a href="#render-start-post" id="render-start-post"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time game starts scene rendering process. This event is called after the game's function runs.

**Arguments**

| Name    | Type                                  | Description             |
| ------- | ------------------------------------- | ----------------------- |
| `setup` | [`cview_setup`](../types/cview_setup) | View setup information. |

***

## setup\_view\_pre﻿ <a href="#setup-view-pre" id="setup-view-pre"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time the game sets up the view. This event is called before the game's function runs.

**Arguments**

None.

***

## setup\_view\_post﻿ <a href="#setup-view-post" id="setup-view-post"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time the game sets up the view information. This event is called after the game's function runs.

{% hint style="info" %}
You can retrieve the view information from `game.view_render` service.
{% endhint %}

**Arguments**

None.

***

## override\_view﻿ <a href="#override-view" id="override-view"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time the game internally overrides view information. You are free to change whatever you like in the provided view setup.

**Arguments**

| Name    | Type                                  | Description             |
| ------- | ------------------------------------- | ----------------------- |
| `setup` | [`cview_setup`](../types/cview_setup) | View setup information. |

***

## event﻿ <a href="#event" id="event"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time a game event fires.

{% hint style="info" %}
We do not listen to every single event that exists in the game. If you need something that we don't listen to, please use [`mods.events`](../mods#events)
{% endhint %}

**Arguments**

| Name    | Type                                    | Description |
| ------- | --------------------------------------- | ----------- |
| `event` | [`game_event_t`](../types/game_event_t) | Game event. |

***

## handle\_input﻿ <a href="#handle-input" id="handle-input"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time the game processes mouse/controller input. This is a good place to alter mouse movement, if needed.

**Arguments**

| Name    | Type                                           | Description        |
| ------- | ---------------------------------------------- | ------------------ |
| `type`  | [`input_type_t`](../enums/input_bit_mask)      | Type of the input. |
| `value` | [`ref_holder_t<float>`](../types/ref_holder_t) | Input value.       |

***

## input﻿ <a href="#input" id="input"></a>

<mark style="color:green;">**`Field`**</mark>

Invoked every time the GUI processes input.

**Arguments**

| Name  | Type | Description                                                                                                                                       |
| ----- | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| `msg` | int  | System message. [Documentation](https://learn.microsoft.com/en-us/windows/win32/winmsg/about-messages-and-message-queues#system-defined-messages) |
| `w`   | int  | WPARAM.                                                                                                                                           |
| `l`   | int  | LPARAM.                                                                                                                                           |
# event\_t

Event usertype. An instance of this type can be found in [`events`]().

## add﻿ <a href="#add" id="add"></a>

<mark style="color:purple;">**`Method`**</mark>

Adds a callback to the event.

**Arguments**

| Name | Type       | Description                                                                                        |
| ---- | ---------- | -------------------------------------------------------------------------------------------------- |
| `fn` | `function` | Callback function. Arguments that are accepted by the function are dictated by the event instance. |

**Returns**

Nothing.

**Example**

```lua
events.present_queue:add(function ()
    -- will be called every time game queues a frame for rendering
end);
```

***

## remove﻿ <a href="#remove" id="remove"></a>

<mark style="color:purple;">**`Method`**</mark>

Removes a callback from the event.

**Arguments**

| Name | Type       | Description                                                         |
| ---- | ---------- | ------------------------------------------------------------------- |
| `fn` | `function` | Callback function, that was earlier passed to the `add()` function. |

**Returns**

Nothing.

**Example**

```lua
local function on_present()
    if some_condition then
        events.present_queue:remove(on_present)
    end
end

events.present_queue:add(on_present)
```
# game

<table data-full-width="false"><thead><tr><th width="320">Usage: game.{interface_or_function}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This table exposes various internal services and global objects used by Fatality, and also provides a way to retrieve any additional services you need.

### global\_vars﻿ <a href="#global-vars" id="global-vars"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`global_vars_t`](#user-content-fn-1)[^1]

This service exposes global variables used by the game, such as frame time or current server time.

***

### engine﻿ <a href="#engine" id="engine"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`cengine_client`](#user-content-fn-2)[^2]

This service exposes the engine client, which includes commonly used engine-related functions.

***

### input﻿ <a href="#input" id="input"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`ccsgo_input`](#user-content-fn-3)[^3]

This service exposes the command input system.

***

### input\_system﻿ <a href="#input-system" id="input-system"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`cinput_system`](#user-content-fn-3)[^3]

This service exposes the control input system.

***

### game\_ui\_funcs﻿ <a href="#game-ui-funcs" id="game-ui-funcs"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`cgame_ui_funcs`](#user-content-fn-4)[^4]

This service exposes the game's UI functions.

[^1]: An instance of this type provides a way to read several global variables that are used by the game. Changing any of the values is not and will not be supported

[^2]: An instance of this type provides a way to interface with Source 2's Engine-to-Client service

[^3]: This type represents the game's command input system

[^4]: This type represents the game's UI functions.
# global\_vars\_t

Usage:

`game.global_vars.{field}`

<table><thead><tr><th width="294">Usage: game.global_vars.{field}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

An instance of this type provides a way to read several global variables that are used by the game. Changing any of the values is not and will never be supported.

## real\_time﻿ <a href="#real-time" id="real-time"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

Time passed since the game start, in seconds.

***

## frame\_count﻿ <a href="#frame-count" id="frame-count"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `int`

Amount of frames rendered since the game start.

***

## abs\_frame\_time﻿ <a href="#abs-frame-time" id="abs-frame-time"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

Absolute (averaged) frame time. It is calculated over a set of previous frame times, and should not be used for anything that requires accurate frame time like animation.

***

## max\_clients﻿ <a href="#max-clients" id="max-clients"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `int`

Maximum amount of clients on the current server.

***

## ticks\_this\_frame﻿ <a href="#ticks-this-frame" id="ticks-this-frame"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `int`

Amount of ticks passed during the currently rendered frame. Any value above 1 might indicate a stall during rendering.

***

## frame\_time﻿ <a href="#frame-time" id="frame-time"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

Time, in which a previous frame was rendered. May be used for animation or by any other means that require accurate frame time.

***

## cur\_time﻿ <a href="#cur-time" id="cur-time"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

Time passed since the server's game start. This does not indicate the accurate time on the server, although in several events it might be synced by the software.

***

## tick\_fraction﻿ <a href="#tick-fraction" id="tick-fraction"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

Current tick's fractional value.

***

## tick\_count﻿ <a href="#tick-count" id="tick-count"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `int`

Ticks passed since the server's game start.

***

## map\_path﻿ <a href="#map-path" id="map-path"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `string`

Relative path to current loaded map's file.

***

## map\_name﻿ <a href="#map-name" id="map-name"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `string`

Name of the currently loaded map.
# cengine\_client

<table><thead><tr><th width="293">Usage: game.engine:{method}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

An instance of this type provides a way to interface with Source 2's Engine-to-Client service.

## get\_last\_timestamp﻿ <a href="#get-last-timestamp" id="get-last-timestamp"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns last timestamp, in seconds.

**Arguments**

None.

**Returns**

| Type    | Description            |
| ------- | ---------------------- |
| `float` | Timestamp, in seconds. |

**Example**

```lua
local last_time = game.engine:get_last_timestamp();
```

***

## get\_last\_server\_tick﻿ <a href="#get-last-server-tick" id="get-last-server-tick"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns last server tick number.

**Arguments**

None.

**Returns**

| Type  | Description         |
| ----- | ------------------- |
| `int` | Server tick number. |

**Example**

```lua
local server_tick = game.engine:get_last_server_tick();
```

***

## in\_game﻿ <a href="#in-game" id="in-game"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns whether the client is currently in game.

**Arguments**

None.

**Returns**

| Type   | Description     |
| ------ | --------------- |
| `bool` | In-game status. |

**Example**

```lua
if game.engine:in_game() then
    print("I'm in game!");
end
```

***

## is\_connected﻿ <a href="#is-connected" id="is-connected"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns whether the client is currently connected to a game server.

**Arguments**

None.

**Returns**

| Type   | Description          |
| ------ | -------------------- |
| `bool` | `true` if connected. |

**Example**

```lua
if game.engine:is_connected() then
    print("I'm connected!");
end
```

***

## get\_netchan﻿ <a href="#get-netchan" id="get-netchan"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns the Network Channel used for network communication.

**Arguments**

None.

**Returns**

| Type                                    | Description                                  |
| --------------------------------------- | -------------------------------------------- |
| [`cnet_chan`](cengine_client/cnet_chan) | Network channel, or `nil` if does not exist. |

**Example**

```lua
local chan = game.engine:get_netchan();
```

***

## client\_cmd﻿ <a href="#client-cmd" id="client-cmd"></a>

<mark style="color:purple;">**`Method`**</mark>

Executes a client-sided console command.

**Arguments**

| Name   | Type           | Description                                                                  |
| ------ | -------------- | ---------------------------------------------------------------------------- |
| `cmd`  | `string`       | Command to execute.                                                          |
| `bool` | `unrestricted` | Whether should the execution preserve any restrictions. Defaults to `false`. |

**Returns**

Nothing.

**Example**

```lua
game.engine:client_cmd('say Hello!');
```

***

## get\_screen\_size﻿ <a href="#get-screen-size" id="get-screen-size"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns client window screen size.

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Width.      |
| `int` | Height.     |

**Example**

```lua
local w, h = game.engine:get_screen_size();
```
# cnet\_chan

Provides a way to interface with a Network Channel's class.

## get\_address﻿ <a href="#get-address" id="get-address"></a>

<mark style="color:purple;">**`Method`**</mark>

{% hint style="danger" %}
If the current channel is `null`, this function will return `nil` instead.
{% endhint %}

Returns address string of the remote machine.

**Arguments**

None.

**Returns**

| Type      | Description                         |
| --------- | ----------------------------------- |
| `string?` | IP-address or Steam Server Address. |

**Example**

```lua
local chan = game.engine:get_netchan();
if chan and not chan:is_null() then
    print(chan:get_address());
end
```

## is\_loopback﻿ <a href="#is-loopback" id="is-loopback"></a>

***

<mark style="color:purple;">**`Method`**</mark>

{% hint style="danger" %}
If the current channel is `null`, this function will return `nil` instead.
{% endhint %}

Returns whether the current channel is connected to the local machine (loopback address).

**Arguments**

None.

**Returns**

| Type    | Description                               |
| ------- | ----------------------------------------- |
| `bool?` | `true` if connected to the local machine. |

Example

```lua
local chan = game.engine:get_netchan();
if chan and not chan:is_null() and chan:is_loopback() then
    print('Connected to localhost!');
end
```

***

## is\_null﻿ <a href="#is-null" id="is-null"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns whether the channel is stubbed.

**Arguments**

None.

**Returns**

| Type   | Description                                   |
| ------ | --------------------------------------------- |
| `bool` | `true` if current channel is a dummy channel. |

Example

```lua
local chan = game.engine:get_netchan();
if not chan or chan:is_null() then
    print('Not connected!');
end
```

***

## get\_latency﻿ <a href="#get-latency" id="get-latency"></a>

<mark style="color:purple;">**`Method`**</mark>

{% hint style="danger" %}
If the current channel is `null`, this function will return `nil` instead.
{% endhint %}

Returns current latency to the remote server (in seconds).

**Arguments**

None.

**Returns**

| Type     | Description           |
| -------- | --------------------- |
| `float?` | Latency (in seconds). |

**Example**

```lua
local chan = game.engine:get_netchan();
if chan and not chan:is_null() then
    print('Current latency: ' .. tostring(math.round(chan:get_latency() * 1000.0)) .. 'ms');
end
```
# ccsgo\_input

<table><thead><tr><th width="330">Usage: game.input.{field_or_method}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This type represents the game's command input system.

## in\_third\_person﻿ <a href="#in-third-person" id="in-third-person"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>

Type: `bool`

`true` if currently in the third person.

***

## get\_view\_angles﻿ <a href="#get-view-angles" id="get-view-angles"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns current camera view angles.

**Arguments**

None.

**Returns**

| Type                           | Description  |
| ------------------------------ | ------------ |
| [`vector`](../../types/vector) | View angles. |

Example

```lua
local ang = game.input:get_view_angles();
```

***

## set\_view\_angles﻿ <a href="#set-view-angles" id="set-view-angles"></a>

<mark style="color:purple;">**`Method`**</mark>

Sets new camera view angles.

**Arguments**

| Name  | Type                           | Description  |
| ----- | ------------------------------ | ------------ |
| `ang` | [`vector`](../../types/vector) | View angles. |

**Returns**

Nothing.

**Example**

```lua
game.input:set_view_angles(math.vec3(0, 0, 0));
```
# cinput\_system

<table><thead><tr><th width="344">Usage: game.input_system:{method}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This type represents the game's control input system.

## vk\_to\_button\_code﻿ <a href="#vk-to-button-code" id="vk-to-button-code"></a>

<mark style="color:purple;">**`Method`**</mark>

Converts a virtual key to button code.

**Arguments**

| Name | Type  | Description  |
| ---- | ----- | ------------ |
| `vk` | `int` | Virtual key. |

**Returns**

| Type  | Description  |
| ----- | ------------ |
| `int` | Button code. |

**Example**

```lua
local button = game.input_system:vk_to_button_code(0x41); -- 'A'
```
# cgame\_ui\_funcs

<table><thead><tr><th width="336">Usage: game.game_ui_funcs:{method}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This type represents the game's UI functions.

## get\_binding\_for\_button\_code﻿ <a href="#get-binding-for-button-code" id="get-binding-for-button-code"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns the binding name for a button code.

**Arguments**

| Name   | Type  | Description  |
| ------ | ----- | ------------ |
| `code` | `int` | Button code. |

**Returns**

| Type     | Description |
| -------- | ----------- |
| `string` | Binding.    |

**Example**

```lua
local bind = game.game_ui_funcs:get_binding_for_button_code(code);
```
# ccvar

Usage:

<table><thead><tr><th width="287">Usage: game.cvar:{method}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This type represents the game's cvar system.

## find﻿ <a href="#find" id="find"></a>

<mark style="color:purple;">**`Method`**</mark>

Get the game's cvar under this name.

**Arguments**

| Name   | Type     | Description |
| ------ | -------- | ----------- |
| `name` | `string` | Var name.   |

**Returns**

| Type                     | Description    |
| ------------------------ | -------------- |
| [`convar`](ccvar/convar) | Convar object. |

**Example**

```lua
local sv_quantize_movement_input = game.cvar:find('sv_quantize_movement_input')
if not sv_quantize_movement_input then
    error('sv_quantize_movement_input not found')
end
```
# convar

Represents a convar used by the game.

## name﻿ <a href="#name" id="name"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>

Type: `string`

***

## description﻿ <a href="#description" id="description"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>

Type: `string`

***

## flags﻿ <a href="#flags" id="flags"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>

Type: `int`

***

## value﻿ <a href="#value" id="value"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>

Type: `<type>`

The value of the convar represented in its type
# mods

<table><thead><tr><th width="242">Usage: mods.{mod_name}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This table exposes several mods (short for Module, not Modification), that Fatality uses to operate.

## events﻿ <a href="#events" id="events"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`events_t`](mods/events_t)

Event manager. Use this mod if you want to listen to more in-game events.
# events\_t

<table><thead><tr><th width="289">Usage: mods.events.{method}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This module lets you manage custom in-game event listener.

{% hint style="danger" %}
Please note that the game server knows which events you are listening to. Internally, we only listen to events that will get sent to the client anyway in one way or another. If you decide to listen to something the server generally does not expect, it may cause issues on official servers.
{% endhint %}

## add\_listener﻿ <a href="#add-listener" id="add-listener"></a>

<mark style="color:purple;">**`Method`**</mark>

Adds a game event to the listener.

{% hint style="success" %}
Internally we listen to the following events:

* bullet\_impact
* weapon\_fire
* bomb\_beginplant
* bomb\_abortplant
* bomb\_planted
* bomb\_defused
* bomb\_exploded
* round\_start
* game\_newmap
* map\_shutdown

Adding those events to the listener is not needed.
{% endhint %}

**Arguments**

| Name   | Type     | Description |
| ------ | -------- | ----------- |
| `name` | `string` | Event name. |

**Returns**

Nothing.

**Example**

```lua
mods.events:add_listener('round_end');
```
# draw

<table><thead><tr><th width="288">Usage: draw.{func_or_field}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This table describes the rendering system of the software.

{% hint style="info" %}
####

All types and enums described in the child sections must be prefixed with `draw.`. This is done so specific types are not confused with others, such as the separate `color` types present in rendering and the game.
{% endhint %}

## adapter﻿ <a href="#adapter" id="adapter"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: [`adapter`](#adapter)

Rendering adapter.

***

## frame\_time﻿ <a href="#frame-time" id="frame-time"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: `float`

Rendering frame time. An alias to [`global_vars_t.frame_time`](../game/global_vars_t#frame-time).

***

## time﻿ <a href="#time" id="time"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: `float`

Time, in seconds. An alias to [`global_vars_t.real_time`](../game/global_vars_t#real-time).

***

## scale﻿ <a href="#scale" id="scale"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: `float`

Global DPI scale.

***

## display﻿ <a href="#display" id="display"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: [`vec2`](draw/types/vec2)

Display area size (viewport dimensions). [`cengine_client:get_screen_size`](../game/cengine_client#get-screen-size) will return exactly the same values. Overriding any of this vector's values will lead to an undefined behavior.

***

## textures﻿ <a href="#textures" id="textures"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: [`accessor<texture>`](draw/types/accessor)

A string to [`texture`](draw/managed/texture) map of all managed textures. You can query and push textures with custom IDs. When you add a texture to this map, it will be automatically destroyed and recreated when required (such as when DX11 device gets lost).

{% hint style="info" %}


Built-in textures:

* `gui_loading`: loading spinner
* `gui_user_avatar`: current user's profile picture. May be `nil` if you don't have any avatar set
* `gui_icon_up`: up chevron
* `gui_icon_down`: down chevron
* `gui_icon_copy`: copy icon
* `gui_icon_paste`: paste icon
* `gui_icon_add`: add icon
* `gui_icon_search`: search icon
* `gui_icon_settings`: settings icon (a cogwheel)
* `gui_icon_bug`: bug icon
* `gui_icon_key.N`: keyboard/mouse key icons. Replace `N` with the char code of a required button
* `icon_rage`: RAGE tab icon
* `icon_legit`: LEGIT tab icon
* `icon_visuals`: VISUALS tab icon
* `icon_misc`: MISC tab icon
* `icon_scripts`: LUA tab icon
* `icon_skins`: SKINS tab icon
* `icon_cloud`: cloud icon
* `icon_file`: file icon
* `icon_refresh`: refresh icon
* `icon_save`: save icon
* `icon_configs`: "Configs" popup icon
* `icon_keys`: keyboard icon
* `icon_info`: "About" popup icon
* `icon_close`: close icon (cross)
* `icon_load`: load icon
* `icon_import`: import icon
* `icon_export`: export icon
* `icon_delete`: delete icon
* `icon_autoload`: "Autoload" icon
* `icon_allow_insecure`: "Allow insecure" icon
* `icon_cloud_upd`: cloud update icon
* `player_texture`: player preview texture
{% endhint %}

***

## fonts﻿ <a href="#fonts" id="fonts"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: [`accessor<font_base>`](draw/types/accessor)

A string to [`font_base`](draw/managed/font_base) map of all managed fonts. You can query and push fonts with custom IDs. When you add a font to this map, it will be automatically destroyed and recreated when required (such as when DX11 device gets lost).

{% hint style="info" %}


Built-in fonts:

* `gui_debug`: Verdana, 13px
* `gui_title`: Figtree ExtraBold, 23px
* `gui_main`: Figtree Medium, 14px
* `gui_main_shadow`: Figree Medium, 14px, with shadow
* `gui_main_fb`: Segoe UI Semibold, 14px
* `gui_bold`: Figtree ExtraBold, 14px
* `gui_bold_fb`: Segoe UI Black, 14px
* `gui_semi_bold`: Figtree SemiBold, 14px
* `gui_semi_bold_fb`: Segoe UI Bold, 14px
{% endhint %}

***

## shaders﻿ <a href="#shaders" id="shaders"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: [`accessor<shader>`](draw/types/accessor)

A string to [`shader`](draw/managed/shader) map of all managed shader. You can query and push shader with custom IDs. When you add a shader to this map, it will be automatically destroyed and recreated when required (such as when DX11 device gets lost).

{% hint style="info" %}
Build-in shaders:

* `blur_f`: gaussian blur shader
{% endhint %}

***

## surface﻿ <a href="#surface" id="surface"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>&#x20;

Type: [`layer`](draw/layer)

The layer you can render on.
# Types

In this section, the most common renderer types are listed, that are not particularly bound to a specific part of the renderer.

{% hint style="info" %}
Use the left menu (or hamburger menu on mobile) to navigate between types.
{% endhint %}
# rect

## \_\_call﻿ <a href="#call" id="call"></a>

<mark style="color:yellow;">**`Constructor`**</mark>

Creates a new rectangle.

**Arguments**

1\. Default rectangle (0, 0 position; 0, 0 size).

None.

2\. Single value.

| Name    | Type    | Description             |
| ------- | ------- | ----------------------- |
| `value` | `float` | Mins XY, maxs XY value. |

3\. Single vector.

| Name    | Type           | Description               |
| ------- | -------------- | ------------------------- |
| `value` | [`vec2`](vec2) | Mins vector, maxs vector. |

4\. Double value.

| Name | Type    | Description             |
| ---- | ------- | ----------------------- |
| `x`  | `float` | Mins/maxs X coordinate. |
| `y`  | `float` | Mins/maxs Y coordinate. |

5\. Double vector.

| Name   | Type           | Description  |
| ------ | -------------- | ------------ |
| `mins` | [`vec2`](vec2) | Mins vector. |
| `maxs` | [`vec2`](vec2) | Maxs vector. |

6\. Four values.

| Name | Type    | Description        |
| ---- | ------- | ------------------ |
| `x0` | `float` | Mins X coordinate. |
| `y0` | `float` | Mins Y coordinate. |
| `x1` | `float` | Maxs X coordinate. |
| `y1` | `float` | Maxs Y coordinate. |

**Returns**

| Type   | Description    |
| ------ | -------------- |
| `rect` | New rectangle. |

**Example**

```lua
local my_rect = draw.rect(50, 50, 150, 150);
```

***

## mins﻿ <a href="#mins" id="mins"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`vec2`](vec2)

Mins (top-left) vector.

***

## maxs﻿ <a href="#maxs" id="maxs"></a>

<mark style="color:green;">**`Field`**</mark>

Type: [`vec2`](vec2)

Maxs (bottom-right) vector.

***

## width﻿ <a href="#width" id="width"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Either returns rectangle's width, or sets a new width.

**Arguments**

1\. Get width.

None.

2\. Set width.

| Name    | Type    | Description |
| ------- | ------- | ----------- |
| `value` | `float` | New width.  |

**Returns**

1\. Get width.

| Type    | Description |
| ------- | ----------- |
| `float` | Width.      |

2\. Set width.

| Type   | Description                       |
| ------ | --------------------------------- |
| `rect` | New rectangle with changed width. |

**Example**

```lua
local half_width = rect:width(rect:width() * 0.5);
```

***

## height﻿ <a href="#height" id="height"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Either returns rectangle's height, or sets a new height.

**Arguments**

1\. Get height.

None.

2\. Set height.

| Name    | Type    | Description |
| ------- | ------- | ----------- |
| `value` | `float` | New height. |

**Returns**

1\. Get height.

| Type    | Description |
| ------- | ----------- |
| `float` | Height.     |

2\. Set height.

| Type   | Description                        |
| ------ | ---------------------------------- |
| `rect` | New rectangle with changed height. |

**Example**

```lua
local half_height = rect:height(rect:height() * 0.5);
```

***

## size﻿ <a href="#size" id="size"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Either returns rectangle's size, or sets a new size.

**Arguments**

1\. Get size.

None.

2\. Set size.

| Name    | Type           | Description |
| ------- | -------------- | ----------- |
| `value` | [`vec2`](vec2) | New size.   |

**Returns**

1\. Get size.

| Type           | Description |
| -------------- | ----------- |
| [`vec2`](vec2) | Size.       |

2\. Set size.

| Type   | Description                      |
| ------ | -------------------------------- |
| `rect` | New rectangle with changed size. |

**Example**

```lua
local half_size = rect:size(rect:size() * draw.vec2(0.5, 0.5));
```

***

## explode﻿ <a href="#explode" id="explode"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Explodes the rectangle by given vector (increase size from center into all directions by coordinates in the vector).

**Arguments**

| Name    | Type           | Description   |
| ------- | -------------- | ------------- |
| `value` | [`vec2`](vec2) | Explode size. |

**Returns**

| Type   | Description         |
| ------ | ------------------- |
| `rect` | Exploded rectangle. |

**Example**

```lua
local exp = rect:explode(draw.vec2(6, 6)); -- will subtract -3,-3 from mins and add 3,3 to maxs
```

***

## half\_width﻿ <a href="#half-width" id="half-width"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns a rectangle with half of the width of this rectangle.

**Arguments**

None.

**Returns**

| Type   | Description                  |
| ------ | ---------------------------- |
| `rect` | Rectangle with halved width. |

**Example**

```lua
local half = rect:half_width();
```

***

## translate﻿ <a href="#translate" id="translate"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Translates (moves) this rectangle by vector coordinates.

**Arguments**

| Name    | Type           | Description         |
| ------- | -------------- | ------------------- |
| `value` | [`vec2`](vec2) | Translation amount. |

**Returns**

| Type   | Description           |
| ------ | --------------------- |
| `rect` | Translated rectangle. |

**Example**

```lua
local rect = draw.rect(50, 50, 150, 150);
local translated = rect:translate(draw.vec2(5, 5)); -- mins/maxs will be 55,55 and 155,155
```

***

## margin\_left﻿ <a href="#margin-left" id="margin-left"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Move rectangle from the left by given amount.

**Arguments**

| Name    | Type    | Description    |
| ------- | ------- | -------------- |
| `value` | `float` | Margin amount. |

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `rect` | Moved rectangle. |

**Example**

```lua
local new = rect:margin_left(5); -- moves to the right by 5px
```

***

## margin\_right﻿ <a href="#margin-right" id="margin-right"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Move rectangle from the right by given amount.

**Arguments**

| Name    | Type    | Description    |
| ------- | ------- | -------------- |
| `value` | `float` | Margin amount. |

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `rect` | Moved rectangle. |

**Example**

```lua
local new = rect:margin_right(5); -- moves to the left by 5px
```

***

## margin\_top﻿ <a href="#margin-top" id="margin-top"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Move rectangle from the top by given amount.

**Arguments**

| Name    | Type    | Description    |
| ------- | ------- | -------------- |
| `value` | `float` | Margin amount. |

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `rect` | Moved rectangle. |

**Example**

```lua
local new = rect:margin_top(5); -- moves to the bottom by 5px
```

***

## margin\_bottom﻿ <a href="#margin-bottom" id="margin-bottom"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Move rectangle from the bottom by given amount.

**Arguments**

| Name    | Type    | Description    |
| ------- | ------- | -------------- |
| `value` | `float` | Margin amount. |

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `rect` | Moved rectangle. |

**Example**

```lua
local new = rect:margin_bottom(5); -- moves to the top by 5px
```

***

## padding\_left﻿ <a href="#padding-left" id="padding-left"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Adds the value to the left side of the rectangle.

**Arguments**

| Name    | Type    | Description     |
| ------- | ------- | --------------- |
| `value` | `float` | Padding amount. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Resized rectangle. |

**Example**

```lua
local new = rect:padding_left(5); -- adds 5 to mins x
```

***

## padding\_right﻿ <a href="#padding-right" id="padding-right"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Adds the value to the right side of the rectangle.

**Arguments**

| Name    | Type    | Description     |
| ------- | ------- | --------------- |
| `value` | `float` | Padding amount. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Resized rectangle. |

**Example**

```lua
local new = rect:padding_right(5); -- adds 5 to maxs x
```

***

## padding\_top﻿ <a href="#padding-top" id="padding-top"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Adds the value to the top side of the rectangle.

**Arguments**

| Name    | Type    | Description     |
| ------- | ------- | --------------- |
| `value` | `float` | Padding amount. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Resized rectangle. |

**Example**

```lua
local new = rect:padding_top(5); -- adds 5 to mins y
```

***

## padding\_bottom﻿ <a href="#padding-bottom" id="padding-bottom"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Adds the value to the bottom side of the rectangle.

**Arguments**

| Name    | Type    | Description     |
| ------- | ------- | --------------- |
| `value` | `float` | Padding amount. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Resized rectangle. |

**Example**

```lua
local new = rect:padding_bottom(5); -- adds 5 to maxs y
```

***

## shrink﻿ <a href="#shrink" id="shrink"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Shrinks (implodes) the rectangle by given amount.

**Arguments**

| Name    | Type    | Description   |
| ------- | ------- | ------------- |
| `value` | `float` | Shrink value. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Resized rectangle. |

**Example**

```lua
local shrinked = rect:shrink(5); -- adds 5,5 to mins and subtracts 5,5 from maxs
```

***

## expand﻿ <a href="#expand" id="expand"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Expands (explodes) the rectangle by given amount.

**Arguments**

| Name    | Type    | Description   |
| ------- | ------- | ------------- |
| `value` | `float` | Expand value. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Resized rectangle. |

**Example**

```lua
local expanded = rect:expand(5); -- subtracts 5,5 from mins and adds 5,5 to maxs
```

***

## contains﻿ <a href="#contains" id="contains"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns `true` if this rectangle contains either vector or another rectangle.

{% hint style="info" %}
Rectangle overload will return `true` ONLY of entire other rectangle is within the bounds of this one.
{% endhint %}

**Arguments**

1\. Vector variant.

| Name    | Type           | Description              |
| ------- | -------------- | ------------------------ |
| `other` | [`vec2`](vec2) | Vector to check against. |

2\. Rectangle variant.

| Name    | Type   | Description                 |
| ------- | ------ | --------------------------- |
| `other` | `rect` | Rectangle to check against. |

**Returns**

| Type   | Description                                            |
| ------ | ------------------------------------------------------ |
| `bool` | `true` if other object is in bounds of this rectangle. |

**Example**

```lua
if rect:contains(cursor_pos) then
    -- ...
end
```

***

## overlaps﻿ <a href="#overlaps" id="overlaps"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns `true` if the other rectangle overlaps with this rectangle.

**Arguments**

| Name    | Type   | Description                 |
| ------- | ------ | --------------------------- |
| `other` | `rect` | Rectangle to check against. |

**Returns**

| Type   | Description                                             |
| ------ | ------------------------------------------------------- |
| `bool` | `true` if other rectangle overlaps with this rectangle. |

**Example**

```lua
if rect:overlaps(another_rect) then
    -- ...
end
```

***

## intersect﻿ <a href="#intersect" id="intersect"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Intersects this rectangle with another rectangle.

**Arguments**

| Name    | Type   | Description                  |
| ------- | ------ | ---------------------------- |
| `other` | `rect` | Rectangle to intersect with. |

**Returns**

| Type   | Description            |
| ------ | ---------------------- |
| `rect` | Intersected rectangle. |

**Example**

```lua
local intersected = rect:intersect(another_rect);
```

***

## tl﻿ <a href="#tl" id="tl"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns top-left vector.

**Arguments**

None.

**Returns**

| Type           | Description      |
| -------------- | ---------------- |
| [`vec2`](vec2) | Top-left vector. |

**Example**

```lua
local tl = rect:tl();
```

***

## tr﻿ <a href="#tr" id="tr"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns top-right vector.

**Arguments**

None.

**Returns**

| Type           | Description       |
| -------------- | ----------------- |
| [`vec2`](vec2) | Top-right vector. |

**Example**

```lua
local tr = rect:tr();
```

***

## br﻿ <a href="#br" id="br"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns bottom-right vector.

**Arguments**

None.

**Returns**

| Type           | Description          |
| -------------- | -------------------- |
| [`vec2`](vec2) | Bottom-right vector. |

**Example**

```lua
local br = rect:br();
```

***

## bl﻿ <a href="#bl" id="bl"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns bottom-left vector.

**Arguments**

None.

**Returns**

| Type           | Description         |
| -------------- | ------------------- |
| [`vec2`](vec2) | Bottom-left vector. |

**Example**

```lua
local bl = rect:bl();
```

***

## center﻿ <a href="#center" id="center"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns center point of this rectangle.

**Arguments**

None.

**Returns**

| Type           | Description   |
| -------------- | ------------- |
| [`vec2`](vec2) | Center point. |

**Example**

```lua
local center = rect:center();
```

***

## circle﻿ <a href="#circle" id="circle"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Treats this rectangle as an ellipsis and returns point on it. Note, that this "ellipsis" will be perfect with no modified curvature (basically if this rectangle is a box - you will get a point on a perfect circle).

**Arguments**

| Name | Type    | Description    |
| ---- | ------- | -------------- |
| `r`  | `float` | Radians value. |

**Returns**

| Type           | Description            |
| -------------- | ---------------------- |
| [`vec2`](vec2) | Point on the ellipsis. |

**Example**

```lua
local point = rect:circle(rad(250)); -- returns point on the 250th degree
```

***

## floor﻿ <a href="#floor" id="floor"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns floored rectangle.

**Arguments**

None.

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Floored rectangle. |

**Example**

```lua
local floored = rect:floor();
```

***

## ceil﻿ <a href="#ceil" id="ceil"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns ceiled rectangle.

**Arguments**

None.

**Returns**

| Type   | Description       |
| ------ | ----------------- |
| `rect` | Ceiled rectangle. |

**Example**

```lua
local ceiled = rect:ceil();
```

***

## round﻿ <a href="#round" id="round"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns rounded rectangle.

**Arguments**

None.

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `rect` | Rounded rectangle. |

**Example**

```lua
local rounded = rect:round();
```

***

## is\_zero﻿ <a href="#is-zero" id="is-zero"></a>

<mark style="color:purple;">**`Method`**</mark>&#x20;

Returns `true` if both mins and maxs are equal to 0.

**Arguments**

None.

**Returns**

| Type   | Description                         |
| ------ | ----------------------------------- |
| `bool` | `true` if this is a zero rectangle. |

**Example**

```lua
if rect:is_zero() then
    -- ...
end
```
# vec2

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates a new 2D vector instance.

**Arguments**

1\. Default vector (0, 0).

None.

2\. Single value.

| Name    | Type    | Description          |
| ------- | ------- | -------------------- |
| `value` | `float` | X and Y coordinates. |

3\. XY values.

| Name | Type    | Description   |
| ---- | ------- | ------------- |
| `x`  | `float` | X coordinate. |
| `y`  | `float` | Y coordinate. |

**Returns**

| Type   | Description |
| ------ | ----------- |
| `vec2` | New vector. |

**Example**

```lua
local vec = draw.vec2(5, 10);
```

***

## x﻿ <a href="#x" id="x"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Type: `float`

X coordinate.

***

## y﻿ <a href="#y" id="y"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Type: `float`

Y coordinate.

***

## floor﻿ <a href="#floor" id="floor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns floored variant of this vector.

**Arguments**

None.

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `vec2` | Floored variant. |

**Example**

```lua
local fl = vec:floor();
```

***

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns ceiled variant of this vector.

**Arguments**

None.

**Returns**

| Type   | Description     |
| ------ | --------------- |
| `vec2` | Ceiled variant. |

**Example**

```lua
local ceiled = vec:ceil();
```

***

## round﻿ <a href="#round" id="round"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns rounded variant of this vector.

**Arguments**

None.

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `vec2` | Rounded variant. |

**Example**

```lua
local rounded = vec:round();
```

***

## len﻿ <a href="#len" id="len"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns length of this vector.

**Arguments**

None.

**Returns**

| Type    | Description |
| ------- | ----------- |
| `float` | Length.     |

**Example**

```lua
local len = vec:len();
```

***

## len\_sqr﻿ <a href="#len-sqr" id="len-sqr"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns squared length of this vector.

{% hint style="info" %}
This method is de-facto faster than the non-squared variant. Use it, if you need extra performance.
{% endhint %}

**Arguments**

None.

**Returns**

| Type    | Description |
| ------- | ----------- |
| `float` | Length.     |

**Example**

```lua
local len = vec:len_sqr();
```

***

## dist﻿ <a href="#dist" id="dist"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns distance to another vector.

**Arguments**

| Name    | Type   | Description   |
| ------- | ------ | ------------- |
| `other` | `vec2` | Other vector. |

**Returns**

| Type    | Description |
| ------- | ----------- |
| `float` | Distance.   |

**Example**

```lua
local dist = vec1:dist(vec2);
```

***

## dist\_sqr﻿ <a href="#dist-sqr" id="dist-sqr"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns squared distance to another vector.

{% hint style="info" %}
This method is de-facto faster than the non-squared variant. Use it, if you need extra performance.
{% endhint %}

**Arguments**

| Name    | Type   | Description   |
| ------- | ------ | ------------- |
| `other` | `vec2` | Other vector. |

**Returns**

| Type    | Description |
| ------- | ----------- |
| `float` | Distance.   |

**Example**

```lua
local dist = vec1:dist_sqr(vec2);
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a regular field that must be accessed using a dot (.)

[^3]: This field is a method and must be invoked using a colon (:)
# color

## color﻿ <a href="#rcolor.md" id="rcolor.md"></a>

Last modified: 03 January 2025

This type is a color used within the rendering system.

{% hint style="warning" %}
Do not mistake this type with [`color`](../../../types/color) that is used in game! While these types are interchangeable internally, they are NOT in the API.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates a new color instance.

**Arguments**

1\. Default color (translucent black).

None.

2\. Integer colors.

| Name | Type  | Description                                |
| ---- | ----- | ------------------------------------------ |
| `r`  | `int` | Red color (`0` to `255`).                  |
| `g`  | `int` | Green color (`0` to `255`).                |
| `b`  | `int` | Blue color (`0` to `255`).                 |
| `a`  | `int` | Opacity (`0` to `255`). Defaults to `255`. |

3\. Hex string.

| Name  | Type     | Description                                                          |
| ----- | -------- | -------------------------------------------------------------------- |
| `hex` | `string` | Hex string. Formats are: `#rrggbbaa`, `#rrggbb`, `#rgba` and `#rgb`. |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local white = draw.color(255, 255, 255);
```

***

## white﻿ <a href="#white" id="white"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns a white, opaque color.

**Arguments**

None.

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local white = draw.color.white();
```

***

## white\_transparent﻿ <a href="#white-transparent" id="white-transparent"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns a white, transparent color.

**Arguments**

None.

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local white_t = draw.color.white_transparent();
```

***

## black﻿ <a href="#black" id="black"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns a black, opaque color.

**Arguments**

None.

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local black = draw.color.black();
```

***

## black\_transparent﻿ <a href="#black-transparent" id="black-transparent"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns a black, transparent color.

**Arguments**

None.

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local black_t = draw.color.black_transparent();
```

***

## percent﻿ <a href="#percent" id="percent"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns a red-to-green color, depending on the provided percent.

**Arguments**

| Name | Type    | Description               |
| ---- | ------- | ------------------------- |
| `p`  | `float` | Percentile (`0` to `1`).  |
| `a`  | `float` | Opacity. Defaults to `1`. |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local yellow = draw.color.percent(0.5);
```

***

## gray﻿ <a href="#gray" id="gray"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns a black-to-white color, depending on the provided percent.

**Arguments**

| Name | Type    | Description               |
| ---- | ------- | ------------------------- |
| `b`  | `float` | Percentile (`0` to `1`).  |
| `a`  | `float` | Opacity. Defaults to `1`. |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local gray = draw.color.gray(0.5);
```

***

## interpolate﻿ <a href="#interpolate" id="interpolate"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Interpolates two colors.

**Arguments**

| Name | Type    | Description               |
| ---- | ------- | ------------------------- |
| `a`  | `color` | Starting color.           |
| `b`  | `color` | Ending color.             |
| `t`  | `float` | Interpolation percentile. |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Color object. |

**Example**

```lua
local a = draw.color.white();
local b = draw.color.black();
local i = draw.color.interpolate(a, b, 0.5); -- gray
```

***

## rgba﻿ <a href="#rgba" id="rgba"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns integer representation of this color (RGBA format)

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | RGBA color. |

**Example**

```lua
local num = col:rgba();
```

***

## argb﻿ <a href="#argb" id="argb"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns integer representation of this color (ARGB format)

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | ARGB color. |

**Example**

```lua
local num = col:argb();
```

***

## bgra﻿ <a href="#bgra" id="bgra"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns integer representation of this color (BGRA format)

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | BGRA color. |

**Example**

```lua
local num = col:bgra();
```

***

## abgr﻿ <a href="#abgr" id="abgr"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns integer representation of this color (ABGR format)

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | ABGR color. |

**Example**

```lua
local num = col:abgr();
```

***

## darken﻿ <a href="#darken" id="darken"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns darker variant of this color.

**Arguments**

| Name    | Type    | Description                     |
| ------- | ------- | ------------------------------- |
| `value` | `float` | Modulation amount (`0` to `1`). |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `color` | Darker color. |

**Example**

```lua
local darker = col:darken(0.5);
```

***

## mod\_a﻿ <a href="#mod-a" id="mod-a"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Modulate opacity of the color. This will take existing opacity, and multiply it by whatever value you provide. It is useful if you want to modulate same color in steps, instead of setting the accurate opacity number.

**Arguments**

1\. Float variant.

| Name    | Type    | Description                      |
| ------- | ------- | -------------------------------- |
| `value` | `float` | Opacity modulation (`0` to `1`). |

2\. Integer variant.

| Name    | Type  | Description                        |
| ------- | ----- | ---------------------------------- |
| `value` | `int` | Opacity modulation (`0` to `255`). |

**Returns**

| Type    | Description      |
| ------- | ---------------- |
| `color` | Modulated color. |

**Example**

```lua
local half_opacity = col:mod_a(0.5);
```

***

## r﻿ <a href="#r" id="r"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Override red and return new color.

**Arguments**

| Name    | Type    | Description |
| ------- | ------- | ----------- |
| `value` | `float` | New value.  |

**Returns**

| Type    | Description |
| ------- | ----------- |
| `color` | New color.  |

**Example**

```lua
local full_red = col:r(1);
```

## g﻿ <a href="#g" id="g"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Override green and return new color.

**Arguments**

| Name    | Type    | Description |
| ------- | ------- | ----------- |
| `value` | `float` | New value.  |

**Returns**

| Type    | Description |
| ------- | ----------- |
| `color` | New color.  |

**Example**

```lua
local full_green = col:g(1);
```

## b﻿ <a href="#b" id="b"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Override blue and return new color.

**Arguments**

| Name    | Type    | Description |
| ------- | ------- | ----------- |
| `value` | `float` | New value.  |

**Returns**

| Type    | Description |
| ------- | ----------- |
| `color` | New color.  |

**Example**

```lua
local full_blue = col:b(1);
```

## a﻿ <a href="#a" id="a"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Override opacity and return new color.

**Arguments**

| Name    | Type    | Description |
| ------- | ------- | ----------- |
| `value` | `float` | New value.  |

**Returns**

| Type    | Description |
| ------- | ----------- |
| `color` | New color.  |

**Example**

```lua
local full_opacity = col:a(1);
```

***

## get\_r﻿ <a href="#get-r" id="get-r"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns red color value.

**Arguments**

None.

**Returns**

| Type  | Description  |
| ----- | ------------ |
| `int` | Color value. |

**Example**

```lua
local r = col:get_r();
```

***

## get\_g﻿ <a href="#get-g" id="get-g"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns green color value.

**Arguments**

None.

**Returns**

| Type  | Description  |
| ----- | ------------ |
| `int` | Color value. |

**Example**

```lua
local g = col:get_g();
```

***

## get\_b﻿ <a href="#get-b" id="get-b"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns blue color value.

**Arguments**

None.

**Returns**

| Type  | Description  |
| ----- | ------------ |
| `int` | Color value. |

**Example**

```lua
local b = col:get_b();
```

***

## get\_a﻿ <a href="#get-a" id="get-a"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns opacity color value.

**Arguments**

None.

**Returns**

| Type  | Description  |
| ----- | ------------ |
| `int` | Color value. |

**Example**

```lua
local a = col:get_a();
```

***

## h﻿ <a href="#h" id="h"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Return hue value of the color.

**Arguments**

None.

**Returns**

| Type  | Description         |
| ----- | ------------------- |
| `int` | Hue (`0` to `359`). |

**Example**

```lua
local hue = col:h();
```

***

## s﻿ <a href="#s" id="s"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns saturation value of the color.

**Arguments**

None.

**Returns**

| Type    | Description              |
| ------- | ------------------------ |
| `float` | Saturation (`0` to `1`). |

**Example**

```lua
local saturation = col:s();
```

***

## v﻿ <a href="#v" id="v"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns brightness value of the color.

**Arguments**

None.

**Returns**

| Type    | Description              |
| ------- | ------------------------ |
| `float` | Brightness (`0` to `1`). |

**Example**

```lua
local brightness = col:v();
```

***

## hsv﻿ <a href="#hsv" id="hsv"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Construct new color from provided HSB values.

**Arguments**

| Name         | Type    | Description                                                                                  |
| ------------ | ------- | -------------------------------------------------------------------------------------------- |
| `hue`        | `int`   | Hue (`0` to `359`).                                                                          |
| `saturation` | `float` | Saturation (`0` to `1`).                                                                     |
| `brightness` | `float` | Brightness (`0` to `1`).                                                                     |
| `alpha`      | `float` | Override opacity of the source color. Must be either left out, or provided `0` to `1` value. |

**Returns**

| Type    | Description |
| ------- | ----------- |
| `color` | New color.  |

**Example**

```lua
local new_col = col:hsv(250, 0.5, 0.1);
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a function and must be invoked using a dot (.)

[^3]: This field is a method and must be invoked using a colon (:)
# accessor

## accessor﻿ <a href="#accessor.md" id="accessor.md"></a>

Last modified: 03 January 2025

This type represents a safe way to access maps.

{% hint style="info" %}
Note that `<type>` indicates the specific type this instance holds. `accessor<texture>` for example means that `get` will return an instance of `texture`, and `set` will only accept the type `texture` as it's `obj` parameter.
{% endhint %}

## \_\_index﻿ <a href="#index" id="index"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns an object by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Object key. |

**Returns**

| Type     | Description |
| -------- | ----------- |
| `<type>` | Object.     |

**Example**

```lua
local main_font = draw.fonts['gui_main'];

-- this also works
local main_font_2 = draw.fonts.gui_main;
```

***

## \_\_newindex﻿ <a href="#newindex" id="newindex"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Sets an object by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Object key. |
| `obj` | `<type>` | Object.     |

**Returns**

Nothing.

**Example**

```lua
draw.fonts['my_font'] = my_font;

-- this also works
draw.fonts.my_font = my_font;
```

[^1]: This field is a function and must be invoked using a dot (.)
# Adapter

This type represents a rendering adapter used within the rendering system.

## get\_back\_buffer﻿ <a href="#get-back-buffer" id="get-back-buffer"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns a back buffer texture. May return a blank or outdated texture, if the back buffer texture was not updated.

**Arguments**

None.

**Returns**

| Type                     | Description                  |
| ------------------------ | ---------------------------- |
| [`ptr`](../../types/ptr) | Back buffer texture pointer. |

**Example**

```lua
local bb = adapter:get_back_buffer();
```

***

## get\_back\_buffer\_downsampled﻿ <a href="#get-back-buffer-downsampled" id="get-back-buffer-downsampled"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns a 4x down sampled version of the back buffer texture.

Arguments

None.

Returns

| Type                     | Description                              |
| ------------------------ | ---------------------------------------- |
| [`ptr`](../../types/ptr) | Downsampled back buffer texture pointer. |

Example

```
local ds = adapter:get_back_buffer_downsampled();
```

***

## get\_shared\_texture﻿ <a href="#get-shared-texture" id="get-shared-texture"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns a shared texture. This texture usually replicates the down sampled back buffer texture, although it is updated automatically ONCE before the rendering on the layer starts.

**Arguments**

None.

**Returns**

| Type                     | Description             |
| ------------------------ | ----------------------- |
| [`ptr`](../../types/ptr) | Shared texture pointer. |

**Example**

```lua
local shared = adapter:get_shared_texture();
```

[^1]: This field is a method and must be invoked using a colon (:)
# Layer

A layer is a type that is used to store render commands, as well as vertex and index data. This is the only way to push shapes and control rendering state.

### g﻿ <a href="#g" id="g"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: [`command`](layer/command)

The next render command to be pushed to the queue. This is the object you want to change to, for example, set a texture, or change rendering modes.

***

## font﻿ <a href="#font" id="font"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`font_base`](managed/font_base)

Font to use with `add_text`. If nothing has been set, no text will get rendered.

***

## tex\_sz﻿ <a href="#tex-sz" id="tex-sz"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`vec2?`](types/vec2)

Texture dimensions. This value is only required if you are trying to render rounded shapes with a texture, so the rendering system will correctly map your UV coordinates to whatever shape you are rendering.

***

## skip\_dpi﻿ <a href="#skip-dpi" id="skip-dpi"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

If set to `true`, will skip global DPI scale. Defaults to `true`.

***

## add\_triangle\_filled﻿ <a href="#add-triangle-filled" id="add-triangle-filled"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled triangle with a single color.

**Arguments**

| Name  | Type                   | Description  |
| ----- | ---------------------- | ------------ |
| `a`   | [`vec2`](types/vec2)   | A point.     |
| `b`   | [`vec2`](types/vec2)   | B point.     |
| `c`   | [`vec2`](types/vec2)   | C point.     |
| `col` | [`color`](types/color) | Shape color. |

**Returns**

Nothing.

**Example**

```lua
layer:add_triangle_filled(
    draw.vec2(50, 50), draw.vec2(25, 75),
    draw.vec2(75, 75), draw.color(255, 255, 255));
```

***

## add\_quad\_filled﻿ <a href="#add-quad-filled" id="add-quad-filled"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled quad with a single color.

**Arguments**

| Name  | Type                   | Description         |
| ----- | ---------------------- | ------------------- |
| `tl`  | [`vec2`](types/vec2)   | Top left point.     |
| `tr`  | [`vec2`](types/vec2)   | Top right point.    |
| `br`  | [`vec2`](types/vec2)   | Bottom right point. |
| `bl`  | [`vec2`](types/vec2)   | Bottom left point.  |
| `col` | [`color`](types/color) | Shape color.        |

**Returns**

Nothing.

**Example**

```lua
layer:add_quad_filled(
    draw.vec2(50, 50), draw.vec2(100, 60),
    draw.vec2(100, 100), draw.vec2(30, 70),
    draw.color(255, 255, 255));
```

***

## add\_rect\_filled﻿ <a href="#add-rect-filled" id="add-rect-filled"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled rectangle with a single color.

**Arguments**

| Name  | Type                   | Description  |
| ----- | ---------------------- | ------------ |
| `r`   | [`rect`](types/rect)   | Rectangle.   |
| `col` | [`color`](types/color) | Shape color. |

**Returns**

Nothing.

**Example**

```lua
layer:add_rect_filled(draw.rect(50, 50, 150, 150), draw.color(255, 255, 255));
```

***

## add\_circle\_filled﻿ <a href="#add-circle-filled" id="add-circle-filled"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled circle with a single color.

Arguments

| Name       | Type                   | Description                                                                                |
| ---------- | ---------------------- | ------------------------------------------------------------------------------------------ |
| `center`   | [`vec2`](types/vec2)   | Center point.                                                                              |
| `radius`   | `float`                | Circle radius.                                                                             |
| `c`        | [`color`](types/color) | Shape color.                                                                               |
| `segments` | `int`                  | Circle segments. If set to `0`, will attempt automatic segment deduction. Defaults to `0`. |
| `fill`     | `float`                | Fill amount (clockwise, `0` to `1`). Defaults to `1`.                                      |

Returns

Nothing.

Example

```lua
layer:add_circle_filled(draw.vec2(50, 50), 10, draw.color(255, 255, 255));
```

***

## add\_triangle\_filled\_multicolor﻿ <a href="#add-triangle-filled-multicolor" id="add-triangle-filled-multicolor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled, multicolor triangle.

**Arguments**

| Name   | Type                         | Description                                                                    |
| ------ | ---------------------------- | ------------------------------------------------------------------------------ |
| `a`    | [`vec2`](types/vec2)         | A point.                                                                       |
| `b`    | [`vec2`](types/vec2)         | B point.                                                                       |
| `c`    | [`vec2`](types/vec2)         | C point.                                                                       |
| `cols` | `table[color, color, color]` | Colors for each point. Colors go in the very same order as the parameter list. |

**Returns**

Nothing.

**Example**

```lua
layer:add_triangle_filled_multicolor(
     draw.vec2(50, 50), draw.vec2(25, 75),
     draw.vec2(75, 75), {
        draw.color(255, 0, 0),
        draw.color(0, 255, 0),
        draw.color(0, 0, 255)
     });
```

***

## add\_rect\_filled\_multicolor﻿ <a href="#add-rect-filled-multicolor" id="add-rect-filled-multicolor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled, multicolor rectangle.

**Arguments**

| Name   | Type                                | Description                                                                         |
| ------ | ----------------------------------- | ----------------------------------------------------------------------------------- |
| `r`    | [`rect`](types/rect)                | Rectangle.                                                                          |
| `cols` | `table[color, color, color, color]` | Colors for each corner of the rectangle, in clockwise order starting from top-left. |

**Returns**

Nothing.

**Example**

```lua
layer:add_rect_filled_multicolor(
    draw.rect(50, 50, 150, 150), {
        draw.color(255, 0, 0),
        draw.color(0, 255, 0),
        draw.color(0, 0, 255),
        draw.color(255, 255, 0)
    });
```

***

## add\_circle\_filled\_multicolor﻿ <a href="#add-circle-filled-multicolor" id="add-circle-filled-multicolor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled, multicolor circle.

**Arguments**

| Name       | Type                  | Description                                                                       |
| ---------- | --------------------- | --------------------------------------------------------------------------------- |
| `center`   | [`vec2`](types/vec2)  | Center point.                                                                     |
| `radius`   | `float`               | Circle radius.                                                                    |
| `cols`     | `table[color, color]` | Colors for the gradient, starting with the inner and ending with the outer color. |
| `segments` | `int`                 | The number of segments to approximate the circle. Defaults to `36`.               |
| `fill`     | `float`               | The portion of the circle to fill, where 1.0 is a full circle. Defaults to `1.0`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_circle_filled_multicolor(
    draw.vec2(100, 100), 50, {
        draw.color(255, 0, 0),
        draw.color(0, 0, 255)
    }, 36, 1.0);
```

***

## add\_quad\_filled\_multicolor﻿ <a href="#add-quad-filled-multicolor" id="add-quad-filled-multicolor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled, multicolor quad.

**Arguments**

| Name   | Type                  | Description                                          |
| ------ | --------------------- | ---------------------------------------------------- |
| `tl`   | [`vec2`](types/vec2)  | Top left point.                                      |
| `tr`   | [`vec2`](types/vec2)  | Top right point.                                     |
| `br`   | [`vec2`](types/vec2)  | Bottom right point.                                  |
| `bl`   | [`vec2`](types/vec2)  | Bottom left point.                                   |
| `cols` | `table[color, color]` | Colors for the gradient, applied from bottom to top. |

**Returns**

Nothing.

**Example**

```lua
layer:add_quad_filled_multicolor(
    draw.vec2(50, 50), draw.vec2(150, 50),
    draw.vec2(150, 150), draw.vec2(50, 150), {
        draw.color(255, 0, 0),
        draw.color(0, 0, 255)
    });
```

***

## add\_pill\_multicolor﻿ <a href="#add-pill-multicolor" id="add-pill-multicolor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a multicolor pill shape.

**Arguments**

| Name         | Type                  | Description                                                               |
| ------------ | --------------------- | ------------------------------------------------------------------------- |
| `mins`       | [`vec2`](types/vec2)  | Top left point of the pill.                                               |
| `maxs`       | [`vec2`](types/vec2)  | Bottom right point of the pill.                                           |
| `radius_min` | `float`               | The minimum radius of the pill's rounded edges.                           |
| `radius_max` | `float`               | The maximum radius of the pill's rounded edges.                           |
| `cols`       | `table[color, color]` | Colors for the gradient, applied from bottom to top.                      |
| `segments`   | `int`                 | The number of segments for approximating rounded edges. Defaults to `16`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_pill_multicolor(
    draw.vec2(50, 50), draw.vec2(150, 100),
    10, 20, {
        draw.color(255, 0, 0),
        draw.color(0, 0, 255)
    }, 16);
```

***

## add\_shadow\_line﻿ <a href="#add-shadow-line" id="add-shadow-line"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a shadow line.

**Arguments**

| Name  | Type                             | Description                       |
| ----- | -------------------------------- | --------------------------------- |
| `r`   | [`rect`](types/rect)             | Bounding box for the shadow line. |
| `dir` | [`shadow_dir`](layer/shadow_dir) | Shadow direction.                 |
| `a`   | `float`                          | Max opacity. Defaults to `0.25`.  |

**Returns**

Nothing.

**Example**

```lua
layer:add_shadow_line(
    draw.rect(50, 50, 150, 150), draw.shadow_dir.down, 0.25);
```

***

## add\_shadow\_rect﻿ <a href="#add-shadow-rect" id="add-shadow-rect"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a shadowed rectangle.

**Arguments**

| Name     | Type                 | Description                                                         |
| -------- | -------------------- | ------------------------------------------------------------------- |
| `r`      | [`rect`](types/rect) | Rectangle.                                                          |
| `radius` | `float`              | Shadow distance, in pixels, outwards.                               |
| `bg`     | `bool`               | Whether to draw a background for the rectangle. Defaults to `true`. |
| `a`      | `float`              | Max opacity of the shadow. Defaults to `0.25`.                      |

**Returns**

Nothing.

**Example**

```lua
layer:add_shadow_rect(
    draw.rect(50, 50, 150, 150), 15, true, 0.25);
```

***

## add\_glow﻿ <a href="#add-glow" id="add-glow"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a glow box.

**Arguments**

| Name     | Type                             | Description                                     |
| -------- | -------------------------------- | ----------------------------------------------- |
| `r`      | [`rect`](types/rect)             | Box rectangle.                                  |
| `radius` | `float`                          | Glow distance, in pixels, outwards.             |
| `c`      | [`color`](types/color)           | Glow color.                                     |
| `parts`  | [`glow_parts`](layer/glow_parts) | Parts of the glow to enable. Defaults to `all`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_glow(draw.rect(50, 50, 150, 150), 15, draw.color(255, 0, 0));
```

***

## add\_rect\_filled\_rounded﻿ <a href="#add-rect-filled-rounded" id="add-rect-filled-rounded"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled, rounded rectangle.

**Arguments**

| Name     | Type                         | Description                       |
| -------- | ---------------------------- | --------------------------------- |
| `r`      | [`rect`](types/rect)         | Rectangle.                        |
| `c`      | [`color`](types/color)       | Fill color.                       |
| `amount` | `float`                      | Rounding amount.                  |
| `rnd`    | [`rounding`](layer/rounding) | Rounding mode. Defaults to `all`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_rect_filled_rounded(
    draw.rect(50, 50, 150, 150),
    draw.color(255, 0, 0),
    10,
    draw.rounding.all
);
```

***

## add\_rect\_filled\_rounded\_multicolor﻿ <a href="#add-rect-filled-rounded-multicolor" id="add-rect-filled-rounded-multicolor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a filled, multicolor rounded rectangle.

**Arguments**

| Name     | Type                                | Description                                          |
| -------- | ----------------------------------- | ---------------------------------------------------- |
| `r`      | [`rect`](types/rect)                | Rectangle.                                           |
| `c`      | `table[color, color, color, color]` | Fill colors. Used clockwise, starting from top left. |
| `amount` | `float`                             | Rounding amount.                                     |
| `rnd`    | [`rounding`](layer/rounding)        | Rounding mode. Defaults to `all`.                    |

**Returns**

Nothing.

**Example**

```lua
layer:add_rect_filled_rounded_multicolor(
    draw.rect(50, 50, 150, 150), {
        draw.color(255, 0, 0),
        draw.color(0, 255, 0),
        draw.color(0, 0, 255),
        draw.color(255, 255, 0)
    },
    10,
    draw.rounding.all
);
```

***

## add\_triangle﻿ <a href="#add-triangle" id="add-triangle"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a stroked triangle.

**Arguments**

| Name        | Type                                 | Description                        |
| ----------- | ------------------------------------ | ---------------------------------- |
| `a`         | [`vec2`](types/vec2)                 | Point A.                           |
| `b`         | [`vec2`](types/vec2)                 | Point B.                           |
| `c`         | [`vec2`](types/vec2)                 | Point C.                           |
| `col`       | [`color`](types/color)               | Line color.                        |
| `thickness` | `float`                              | Line thickness. Defaults to `1.0`. |
| `mode`      | [`outline_mode`](layer/outline_mode) | Outline mode. Defaults to `inset`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_triangle(
    draw.vec2(50, 50),
    draw.vec2(25, 75),
    draw.vec2(75, 75),
    draw.color(255, 0, 0),
    1.0,
    draw.outline_mode.inset
);
```

***

## add\_quad﻿ <a href="#add-quad" id="add-quad"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a stroked quad.

**Arguments**

| Name        | Type                                 | Description                        |
| ----------- | ------------------------------------ | ---------------------------------- |
| `tl`        | [`vec2`](types/vec2)                 | Top-left point.                    |
| `tr`        | [`vec2`](types/vec2)                 | Top-right point.                   |
| `br`        | [`vec2`](types/vec2)                 | Bottom-right point.                |
| `bl`        | [`vec2`](types/vec2)                 | Bottom-left point.                 |
| `c`         | [`color`](types/color)               | Line color.                        |
| `thickness` | `float`                              | Line thickness. Defaults to `1.0`. |
| `mode`      | [`outline_mode`](layer/outline_mode) | Outline mode. Defaults to `inset`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_quad(
    draw.vec2(50, 50),
    draw.vec2(150, 50),
    draw.vec2(150, 150),
    draw.vec2(50, 150),
    draw.color(255, 0, 0),
    1.0,
    draw.outline_mode.inset
);
```

***

## add\_rect﻿ <a href="#add-rect" id="add-rect"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a stroked rectangle.

**Arguments**

| Name        | Type                                 | Description                        |
| ----------- | ------------------------------------ | ---------------------------------- |
| `r`         | [`rect`](types/rect)                 | Rectangle.                         |
| `c`         | [`color`](types/color)               | Line color.                        |
| `thickness` | `float`                              | Line thickness. Defaults to `1.0`. |
| `mode`      | [`outline_mode`](layer/outline_mode) | Outline mode. Defaults to `inset`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_rect(
    draw.rect(50, 50, 150, 150),
    draw.color(255, 0, 0),
    1.0,
    draw.outline_mode.inset
);
```

***

## add\_circle﻿ <a href="#add-circle" id="add-circle"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a stroked circle.

**Arguments**

| Name        | Type                                 | Description                        |
| ----------- | ------------------------------------ | ---------------------------------- |
| `center`    | [`vec2`](types/vec2)                 | Center point.                      |
| `radius`    | `float`                              | Circle radius.                     |
| `c`         | [`color`](types/color)               | Line color.                        |
| `segments`  | `int`                                | Circle segments. Defaults to `36`. |
| `fill`      | `float`                              | Fill amount. Defaults to `1.0`.    |
| `thickness` | `float`                              | Line thickness. Defaults to `1.0`. |
| `mode`      | [`outline_mode`](layer/outline_mode) | Outline mode. Defaults to `inset`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_circle(
    draw.vec2(100, 100),
    50,
    draw.color(255, 0, 0),
    36,
    1.0,
    1.0,
    draw.outline_mode.inset
);
```

***

## add\_line﻿ <a href="#add-line" id="add-line"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a line.

**Arguments**

| Name        | Type                   | Description                       |
| ----------- | ---------------------- | --------------------------------- |
| `a`         | [`vec2`](types/vec2)   | Start point.                      |
| `b`         | [`vec2`](types/vec2)   | End point.                        |
| `c`         | [`color`](types/color) | Line color.                       |
| `thickness` | `float`                | Line thickness. Defaults to `1.0` |

**Returns**

Nothing.

**Example**

```lua
layer:add_line(
    draw.vec2(50, 50),
    draw.vec2(150, 150),
    draw.color(255, 0, 0)
);
```

***

## add\_line\_multicolor﻿ <a href="#add-line-multicolor" id="add-line-multicolor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a multicolor line.

**Arguments**

| Name        | Type                   | Description                        |
| ----------- | ---------------------- | ---------------------------------- |
| `a`         | [`vec2`](types/vec2)   | Start point.                       |
| `b`         | [`vec2`](types/vec2)   | End point.                         |
| `c`         | [`color`](types/color) | Start color.                       |
| `c2`        | [`color`](types/color) | End color.                         |
| `thickness` | `float`                | Line thickness. Defaults to `1.0`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_line_multicolor(
    draw.vec2(50, 50),
    draw.vec2(150, 150),
    draw.color(255, 0, 0),
    draw.color(0, 0, 255),
    2.0
);
```

***

## add\_rect\_rounded﻿ <a href="#add-rect-rounded" id="add-rect-rounded"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a rounded, filled rectangle.

**Arguments**

| Name        | Type                                 | Description                        |
| ----------- | ------------------------------------ | ---------------------------------- |
| `r`         | [`rect`](types/rect)                 | Rectangle.                         |
| `c`         | [`color`](types/color)               | Line color.                        |
| `amount`    | `float`                              | Rounding amount.                   |
| `rnd`       | [`rounding`](layer/rounding)         | Rounding mode. Defaults to `all`.  |
| `thickness` | `float`                              | Line thickness. Defaults to `1.0`. |
| `mode`      | [`outline_mode`](layer/outline_mode) | Outline mode. Defaults to `inset`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_rect_rounded(draw.rect(50, 50, 150, 150),
    draw.color(255, 255, 255), 14);
```

***

## add\_text﻿ <a href="#add-text" id="add-text"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds text.

{% hint style="info" %}
If font wasn't set, this function will do nothing.
{% endhint %}

{% hint style="info" %}
You can control the color while rendering the text. To change the color, add `\fRRGGBBAA` to the string. To reset the color, add `\b`.
{% endhint %}

**Arguments**

| Name     | Type                                | Description                                  |
| -------- | ----------------------------------- | -------------------------------------------- |
| `p`      | [`vec2`](types/vec2)                | Text origin point.                           |
| `text`   | `string`                            | Text.                                        |
| `c`      | [`color`](types/color)              | Text color.                                  |
| `params` | [`text_params?`](layer/text_params) | Text aligning parameters. Defaults to `nil`. |

**Returns**

Nothing.

**Example**

```lua
layer:add_text(draw.vec2(50, 50), 'Hello world!', draw.color(255, 255, 255));
```

***

## override\_clip\_rect﻿ <a href="#override-clip-rect" id="override-clip-rect"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Overrides clip rectangle with support of intersection.

**Arguments**

| Name        | Type                  | Description                                                                                |
| ----------- | --------------------- | ------------------------------------------------------------------------------------------ |
| `r`         | [`rect?`](types/rect) | New clip rect.                                                                             |
| `intersect` | `bool`                | Whether this function should intersect previous rect with the new one. Defaults to `true`. |

**Returns**

Nothing.

**Example**

```lua
layer:override_clip_rect(draw.rect(50, 50, 150, 150));
```

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.

[^3]: This field is a method and must be invoked using a colon (:)
# outline\_mode

This enum is used to determine the outline mode for outlined shapes.

## inset﻿ <a href="#inset" id="inset"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Inset outlining. This means that the outline will be inside the shape (+1px from top-left, -1px from bottom-right).

***

## outset﻿ <a href="#outset" id="outset"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Outset outlining. This means that the outline will be outside of the shape (-1px from top-left, +1px from bottom-right).

***

## center﻿ <a href="#center" id="center"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Center outlining. This means that the outline will match the shape size.

[^1]: This field is a regular field that must be accessed using a dot (.)
# rounding

## rounding﻿ <a href="#rounding.md" id="rounding.md"></a>

Last modified: 03 January 2025

This enum is used to determine the rounding for rounded shapes.

### tl﻿ <a href="#tl" id="tl"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round top-left corner.

***

## tr﻿ <a href="#tr" id="tr"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round top-right corner.

***

## bl﻿ <a href="#bl" id="bl"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round bottom-left corner.

***

## br﻿ <a href="#br" id="br"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round bottom-right corner.

***

## t﻿ <a href="#t" id="t"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round both of the top corners. This produces the same result as using `bit.bor(draw.rounding.tl, draw.rounding.tr)`.

***

## l﻿ <a href="#l" id="l"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round both of the left corners. This produces the same result as using `bit.bor(draw.rounding.tl, draw.rounding.bl)`.

***

## r﻿ <a href="#r" id="r"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round both of the right corners. This produces the same result as using `bit.bor(draw.rounding.tr, draw.rounding.br)`.

***

## b﻿ <a href="#b" id="b"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round both of the bottom corners. This produces the same result as using `bit.bor(draw.rounding.bl, draw.rounding.br)`.

***

## all﻿ <a href="#all" id="all"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Round all corners. This produces the same result as using `bit.bor(draw.rounding.tl, draw.rounding.tr, draw.rounding.bl, draw.rounding.br)`.

[^1]: This field is a regular field that must be accessed using a dot (.)
# glow\_parts

This enum is used to determine which parts of the glow around the shape should get rendered.

### tl﻿ <a href="#tl" id="tl"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw top-left corner.

***

## tr﻿ <a href="#tr" id="tr"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw top-right corner.

***

## bl﻿ <a href="#bl" id="bl"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw bottom-left corner.

***

## br﻿ <a href="#br" id="br"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw bottom-right corner.

***

## t﻿ <a href="#t" id="t"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw top line.

***

## l﻿ <a href="#l" id="l"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw left line.

***

## r﻿ <a href="#r" id="r"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw right line.

***

## b﻿ <a href="#b" id="b"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw bottom line.

***

## all\_left﻿ <a href="#all-left" id="all-left"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw all the left side shapes. This includes both left corners and the line.

***

## all\_right﻿ <a href="#all-right" id="all-right"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw all the right side shapes. This includes both right corners and the line.

***

## all\_top﻿ <a href="#all-top" id="all-top"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw all the top side shapes. This includes both top corners and the line.

***

## all\_bottom﻿ <a href="#all-bottom" id="all-bottom"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw all the bottom side shapes. This includes both bottom corners and the line.

***

## all﻿ <a href="#all" id="all"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw the entire glow around the shape.

***

## no\_bottom﻿ <a href="#no-bottom" id="no-bottom"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw glow except for the bottom line.

***

## no\_top﻿ <a href="#no-top" id="no-top"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw glow except for the top line.

***

## no\_right﻿ <a href="#no-right" id="no-right"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw glow except for the right line.

***

## no\_left﻿ <a href="#no-left" id="no-left"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Draw glow except for the left line.

[^1]: This field is a regular field that must be accessed using a dot (.)
# text\_params

This type is used to determine text alignment.

{% hint style="info" %}
Line alignment only makes sense if you have multiple lines in your text. By default, all next lines will start from the left side of the text. You can change this behavior by using one of the functions that take `line` as a parameter. For example, if you pass `right` to the line alignment, all next lines will start from the right side. Text alignment will remain as dictated by `v` and `h` parameters.
{% endhint %}

## with\_v﻿ <a href="#with-v" id="with-v"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates `text_params` instance with vertical alignment.

**Arguments**

| Name | Type                                           | Description         |
| ---- | ---------------------------------------------- | ------------------- |
| `v`  | [`text_alignment`](text_params/text_alignment) | Vertical alignment. |

**Returns**

| Type          | Description          |
| ------------- | -------------------- |
| `text_params` | Created text params. |

**Example**

```lua
local align_top = draw.text_params.with_v(draw.text_alignment.top);
```

***

## with\_h﻿ <a href="#with-h" id="with-h"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates `text_params` instance with horizontal alignment.

**Arguments**

| Name | Type                                           | Description           |
| ---- | ---------------------------------------------- | --------------------- |
| `h`  | [`text_alignment`](text_params/text_alignment) | Horizontal alignment. |

**Returns**

| Type          | Description          |
| ------------- | -------------------- |
| `text_params` | Created text params. |

**Example**

```lua
local align_right = draw.text_params.with_h(draw.text_alignment.right);
```

***

## with\_line﻿ <a href="#with-line" id="with-line"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates `text_params` instance with line alignment.

**Arguments**

| Name   | Type                                           | Description     |
| ------ | ---------------------------------------------- | --------------- |
| `line` | [`text_alignment`](text_params/text_alignment) | Line alignment. |

**Returns**

| Type          | Description          |
| ------------- | -------------------- |
| `text_params` | Created text params. |

**Example**

```lua
local lines_center = draw.text_params.with_line(draw.text_alignment.center);
```

***

## with\_vh﻿ <a href="#with-vh" id="with-vh"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates `text_params` instance with vertical and horizontal alignments.

**Arguments**

| Name | Type                                           | Description           |
| ---- | ---------------------------------------------- | --------------------- |
| `v`  | [`text_alignment`](text_params/text_alignment) | Vertical alignment.   |
| `h`  | [`text_alignment`](text_params/text_alignment) | Horizontal alignment. |

**Returns**

| Type          | Description          |
| ------------- | -------------------- |
| `text_params` | Created text params. |

**Example**

```lua
local align_bottom_right = draw.text_params.with_vh(draw.text_alignment.bottom, draw.text_alignment.right);
```

***

## with\_vline﻿ <a href="#with-vline" id="with-vline"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates `text_params` instance with vertical alignment and line alignment.

**Arguments**

| Name   | Type                                           | Description         |
| ------ | ---------------------------------------------- | ------------------- |
| `v`    | [`text_alignment`](text_params/text_alignment) | Vertical alignment. |
| `line` | [`text_alignment`](text_params/text_alignment) | Line alignment.     |

**Returns**

| Type          | Description          |
| ------------- | -------------------- |
| `text_params` | Created text params. |

**Example**

```lua
local align = draw.text_params.with_vline(draw.text_alignment.bottom, draw.text_alignment.center);
```

***

## with\_hline﻿ <a href="#with-hline" id="with-hline"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates `text_params` instance with horizontal alignment and line alignment.

**Arguments**

| Name   | Type                                           | Description           |
| ------ | ---------------------------------------------- | --------------------- |
| `h`    | [`text_alignment`](text_params/text_alignment) | Horizontal alignment. |
| `line` | [`text_alignment`](text_params/text_alignment) | Line alignment.       |

**Returns**

| Type          | Description          |
| ------------- | -------------------- |
| `text_params` | Created text params. |

**Example**

```lua
local align = draw.text_params.with_hline(draw.text_alignment.center, draw.text_alignment.center);
```

***

## with\_vhline﻿ <a href="#with-vhline" id="with-vhline"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Creates `text_params` instance with vertical, horizontal and line alignments.

**Arguments**

| Name   | Type                                           | Description           |
| ------ | ---------------------------------------------- | --------------------- |
| `v`    | [`text_alignment`](text_params/text_alignment) | Vertical alignment.   |
| `h`    | [`text_alignment`](text_params/text_alignment) | Horizontal alignment. |
| `line` | [`text_alignment`](text_params/text_alignment) | Line alignment.       |

**Returns**

| Type          | Description          |
| ------------- | -------------------- |
| `text_params` | Created text params. |

**Example**

```lua
local align = draw.text_params.with_vhline(draw.text_alignment.center, draw.text_alignment.center, draw.text_alignment.center);
```

[^1]: This field is a function and must be invoked using a dot (.)
# text\_alignment

This enum determines how to align the text when drawing it.

{% hint style="info" %}
`left` and `top`, as well as `right` and `bottom` are interchangeable. It means that if you use `left` for vertical alignment, it will produce exactly the same result as using `top`, and vice versa. `top`/`bottom` are here only for the sake of convenience and readability.
{% endhint %}

### left﻿ <a href="#left" id="left"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Align left. It will mean that the text position's X coordinate is located at the left side of the text area.

***

## center﻿ <a href="#center" id="center"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Align center. It will mean that the text position's X (or Y) coordinate is located at the center of the text area.

***

## right﻿ <a href="#right" id="right"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Align right. It will mean that the text position's X coordinate is located at the right side of the text area.

***

## top﻿ <a href="#top" id="top"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Align top. It will mean that the text position's Y coordinate is located at the top side of the text area.

***

## bottom﻿ <a href="#bottom" id="bottom"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Align bottom. It will mean that the text position's Y coordinate is located at the bottom side of the text area.

[^1]: This field is a regular field that must be accessed using a dot (.)
# shadow\_dir

This enum is used to determine shadow direction for `add_shadow_line` method.

## up﻿ <a href="#up" id="up"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

The darkest side of the shadow will be at the bottom.

***

## down﻿ <a href="#down" id="down"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

The darkest side of the shadow will be at the top.

***

## left﻿ <a href="#left" id="left"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

The darkest side of the shadow will be on the left side.

***

## right﻿ <a href="#right" id="right"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

The darkest side of the shadow will be on the right side.

[^1]: This field is a regular field that must be accessed using a dot (.)
# command

This type is used to change render command parameters.

{% hint style="danger" %}
Be cautious when changing stuff in an instance of this type. Passing invalid data to `texture` or `frag_shader`, or not restoring some changes after you're done drawing can lead to undefined behavior, and more likely, a crash. If you are not sure how to operate this type, take a look into examples.
{% endhint %}

## texture﻿ <a href="#texture" id="texture"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`ptr`](../../../types/ptr)

Texture pointer. You can get one from an instance of `texture` type by accessing `obj` field. Passing invalid data to this field WILL result in a crash. For a safer way, please use [`set_texture`](#set-texture).

***

## frag\_shader﻿ <a href="#frag-shader" id="frag-shader"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: Type: [`ptr`](../../../types/ptr)

Fragment shader (aka Pixel Shader in DirectX terms) pointer. You can get one from an instance of `shader` type by accessing `obj` field. Passing invalid data to this field WILL result in a crash. For a safer way, please use [`set_shader`](#set-shader).

***

## clip\_rect﻿ <a href="#clip-rect" id="clip-rect"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`rect?`](../types/rect)

Clip rectangle used for scissor testing. If this is set to `nil`, will not clip anything.

{% hint style="success" %}
It is advised to instead use layer's `override_clip_rect` method. While you can pass custom rect to this field, you will lose information about previous clip rects set before. Using that method will make sure to intersect the previous rect with the one you pass and produce a probably more expected result.
{% endhint %}

***

## uv\_rect﻿ <a href="#uv-rect" id="uv-rect"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`rect?`](../types/rect)

UV rect used for texture mapping. If this field is set to `nil`, will use `0, 0, 1, 1` rectangle to map the texture. You can learn more about texture mapping in the tutorial section.

***

## alpha﻿ <a href="#alpha" id="alpha"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

Global opacity override. Defaults to `1`, but if you set anything else - will modulate opacity of every next shape you will render.

***

## rotation﻿ <a href="#rotation" id="rotation"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

Shape rotation. Not all shapes support this field. The value is set in degrees, not radians.

***

## anti\_alias﻿ <a href="#anti-alias" id="anti-alias"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

If set to `true`, will apply tesselation to shapes.

{% hint style="info" %}
As of now, not every shape supports tesselation, but it is advised to have it enabled at all times anyway. It will produce much better result anyway.
{% endhint %}

***

## ignore\_scaling﻿ <a href="#ignore-scaling" id="ignore-scaling"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

If set to `true`, will ignore global DPI scale. This is set to `true` by default, but you are free to change it to `false` if you are trying to render some custom UI elements.

***

## chained\_call﻿ <a href="#chained-call" id="chained-call"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

Only useful when using shaders. If set to `true`, will not update back buffer texture. This can be used if you need the very same texture data, as when applying several shaders to the back buffer.

{% hint style="info" %}
Please note that capturing back buffer is a rather slow operation. It is better to not capture it too often. Back buffer is automatically captured to the only layer you can use anyway, and it is better to use that one instead, to make sure rendering happens as fast as it is possible.
{% endhint %}

***

## only\_downsampled﻿ <a href="#only-downsampled" id="only-downsampled"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

If set to `true`, will capture back buffer (as long as `chained_call` is set to `false`). The name of this field is quite misleading due to the fact that in the CS:GO version of Fatality, it was used to configure if the rendering system should also downsample the captured backbuffer into another texture. In DirectX11, this operation is much faster, so it is done regardless.

***

## capture\_back\_buffer﻿ <a href="#capture-back-buffer" id="capture-back-buffer"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

An alias to `only_downsampled`.

***

## is\_tile﻿ <a href="#is-tile" id="is-tile"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

If set to `true`, will use a separate texture sampler that supports tiling. By default, all textures are stretched, but if you enable this option - their tiling and stretch will be fully configurable by the `uv_rect` field.

***

## mode﻿ <a href="#mode" id="mode"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`render_mode`](command/render_mode)

Rendering mode. You can read more about it in the type's documentation.

***

## set\_texture﻿ <a href="#set-texture" id="set-texture"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Sets a texture in a safe manner.

**Arguments**

| Name  | Type                  | Description     |
| ----- | --------------------- | --------------- |
| `tex` | [`texture`](#texture) | Texture object. |

**Returns**

Nothing.

**Example**

```lua
cmd:set_texture(my_tex);
```

***

## set\_shader﻿ <a href="#set-shader" id="set-shader"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Sets a fragment shader in a safe manner.

**Arguments**

| Name | Type        | Description    |
| ---- | ----------- | -------------- |
| `sh` | \[`shader`] | Shader object. |

**Returns**

Nothing.

**Example**

```lua
cmd:set_shader(my_shader);
```

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a method and must be invoked using a colon (:)
# render\_mode

This enum is used to toggle rendering modes.

## normal﻿ <a href="#normal" id="normal"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Normal, opaque rendering. All polygons will get filled with color, and texture sampling will be fully supported. This is the default mode to render shapes in layer.

***

## wireframe﻿ <a href="#wireframe" id="wireframe"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Wireframe rendering. This means that the polygons will no longer be filled with color, nor texture sampling will ever work.

[^1]: This field is a regular field that must be accessed using a dot (.)
# Managed

This type represents a managed object. You cannot create an instance of this type directly.

Every object, that inherits from this type, must be `create`d before use. The rendering system will only create them automatically, if you happen to lose a device object (e.g. minimize the game window, and then restore it) and only if you add your objects to manage table in [`draw`](https://lua.fatality.win/draw.html).

### obj﻿ <a href="#obj" id="obj"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: [`ptr`](../../types/ptr)

Pointer to a GPU object. If this object is not created, this field will be `nil`. You can use the value of this field to pass it to [`command`](layer/command) directly for example, or if you (for whatever reason we don't recommend you doing) want to have a direct control over the pointer - cast it to FFI's `cdata`.

***

## create﻿ <a href="#create" id="create"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Creates a managed object in GPU memory.

{% hint style="success" %}
You should `create()` an object only once. Invoking this method after the object was created will be meaningless.
{% endhint %}

**Arguments**

None.

**Returns**

Nothing.

**Example**

```lua
tex:create();
```

***

## destroy﻿ <a href="#destroy" id="destroy"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Destroys a managed object in GPU memory.

{% hint style="danger" %}
Never destroy a GPU object if it is being used in rendering (for example, when you have pushed some shape that uses a texture, and then destroyed that texture). This will lead to undefined behavior, and most likely, \*\***crash the game** \*\*.
{% endhint %}

**Arguments**

None.

**Returns**

Nothing.

**Example**

```lua
font:destroy();
```

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.

[^3]: This field is a method and must be invoked using a colon (:)
# texture

This type represents a texture object.

{% hint style="info" %}
This type inherits [`managed`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

{% hint style="info" %}


Supported texture formats are:

* JPEG (.jpg, .jpeg) - 12 bpc/arithmetic are not supported.
* PNG (.png)
* TGA (.tga)
* BMP (.bmp) - 1 bpp and RLE variants are not supported.
* PSD (.psd) - composited view only, no extra channels, 8/16 bpc
* GIF (.gif) - only first frame, for animated gifs use [`animated_texture`](texture/animated_texture)
* HDR (.hdr)
* PIC (.pic)
* PNM (.pnm, .ppm, .pgm) - PPM and PGM are binary only
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs an instance of this type.

{% hint style="danger" %}
Passing an invalid pointer, a or memory region that is smaller than the size will result in a crash.
{% endhint %}

Arguments

1\. From file.

| Name   | Type     | Description                   |
| ------ | -------- | ----------------------------- |
| `path` | `string` | Path to a valid texture file. |

2\. From memory.

| Name   | Type                        | Description                             |
| ------ | --------------------------- | --------------------------------------- |
| `data` | [`ptr`](../../../types/ptr) | Pointer to texture file data in memory. |
| `sz`   | `int`                       | Size of the texture file data.          |

3\. From RGBA data.

| Name   | Type                        | Description                                             |
| ------ | --------------------------- | ------------------------------------------------------- |
| `data` | [`ptr`](../../../types/ptr) | Pointer to RGBA data in memory.                         |
| `w`    | `int`                       | Width.                                                  |
| `h`    | `int`                       | Height (row count).                                     |
| `p`    | `int`                       | Pitch (row width). This is the amount of bytes per row. |

Returns

| Type      | Description     |
| --------- | --------------- |
| `texture` | Texture object. |

Example

```lua
local tex = draw.texture('funny_meme.png');
```

***

## is\_animated﻿ <a href="#is-animated" id="is-animated"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-3)[^3]

Type: `bool`

Set to `true` if this is an instance of [`animated_texture`](texture/animated_texture).

***

## get\_size﻿ <a href="#get-size" id="get-size"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-4)[^4]

Returns size of this texture.

**Arguments**

None.

**Returns**

| Type                    | Description         |
| ----------------------- | ------------------- |
| [`vec2`](../types/vec2) | Texture dimensions. |

**Example**

```lua
local sz = tex:get_size();
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a regular field that must be accessed using a dot (.)

[^3]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.

[^4]: This field is a method and must be invoked using a colon (:)
# svg\_texture

This type represents an SVG texture object.

{% hint style="info" %}
This type inherits [`texture`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

{% hint style="danger" %}
Passing invalid SVG data to the constructor will cause a crash. We will fix this issue in future updates.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs an SVG texture.

**Arguments**

| Name | Type     | Description                                                                              |
| ---- | -------- | ---------------------------------------------------------------------------------------- |
| `sv` | `string` | SVG text.                                                                                |
| `h`  | `float`  | Target height. Defaults to `0`, and `0` means that there will be no automatic downscale. |

**Returns**

| Type          | Description         |
| ------------- | ------------------- |
| `svg_texture` | SVG texture object. |

**Example**

```lua
local lightning = draw.svg_texture([[
<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.55563 13.3232L9.43584 13.3123C7.90803 13.1735 7.14412 13.104 6.90146 12.5814C6.65881 12.0588 7.09869 11.4304 7.97846 10.1736L11.5612 5.05544C12.1424 4.22517 12.433 3.81003 12.6836 3.89831C12.9342 3.98658 12.9005 4.4922 12.8331 5.50343L12.6299 8.55194C12.5685 9.47214 12.5379 9.93224 12.8023 10.2419C13.0667 10.5515 13.5259 10.5933 14.4444 10.6768L14.5642 10.6877C16.092 10.8265 16.8559 10.896 17.0985 11.4186C17.3412 11.9412 16.9013 12.5696 16.0215 13.8264L12.4388 18.9446C11.8576 19.7748 11.567 20.19 11.3164 20.1017C11.0658 20.0134 11.0995 19.5078 11.1669 18.4966L11.3701 15.4481C11.4315 14.5279 11.4621 14.0678 11.1977 13.7581C10.9333 13.4485 10.4741 13.4067 9.55563 13.3232Z" fill="#ffffff"/>
<path d="M18.5 4L17 6H19L17.5 8" stroke="#ffffff" stroke-opacity="0.6" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M6.5 16L5 18H7L5.5 20" stroke="#ffffff" stroke-opacity="0.6" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
]], 24);
```

[^1]: This is a constructor definition for this type.
# animated\_texture

This type is an animated texture. This texture type only supports animated GIF types, and does not support APNG.

{% hint style="info" %}
This type inherits [`texture`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

{% hint style="success" %}
If you pass an unsupported type, it will instead work exactly like [`texture`]() type, meaning controlling frames and looping will be meaningless.
{% endhint %}

{% hint style="success" %}
Using this type for texture atlases is possible, although highly unrecommended. It will produce extra texture objects in memory, and overall will be much slower. Instead, it is advised to construct an actual texture atlas, use [`texture`]() type, and use texture mapping.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs animated texture.

{% hint style="danger" %}
Passing an invalid pointer, a or memory region that is smaller than the size will result in a crash.
{% endhint %}

Arguments

1\. From file.

| Name   | Type     | Description               |
| ------ | -------- | ------------------------- |
| `path` | `string` | Path to the texture file. |

2\. From memory.

| Name   | Type                           | Description                             |
| ------ | ------------------------------ | --------------------------------------- |
| `data` | [`ptr`](../../../../types/ptr) | Pointer to texture file data in memory. |
| `sz`   | `int`                          | Size of the texture file data.          |

Returns

| Type               | Description                |
| ------------------ | -------------------------- |
| `animated_texture` | Animated texture instance. |

Example

```lua
local gif = draw.animated_texture('funny_gif.gif');
```

***

## should\_loop﻿ <a href="#should-loop" id="should-loop"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Type: `bool`

If set to `false`, will not loop the animation automatically. Defaults to `true`.

***

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Reset loop to run from the first frame.

**Arguments**

None.

**Returns**

Nothing.

**Example**

```lua
gif:reset_loop();
```

***

## set\_frame﻿ <a href="#set-frame" id="set-frame"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Set a specific frame on the animation. If looping is enabled, will continue the cycle from the passed frame. Otherwise, will display a specific frame of the animation.

{% hint style="info" %}
Frame count starts from `0`.
{% endhint %}

**Arguments**

| Name    | Type  | Description                                          |
| ------- | ----- | ---------------------------------------------------- |
| `frame` | `int` | Frame number. Invalid frame numbers will be clamped. |

**Returns**

Nothing.

**Example**

```lua
gif:set_frame(5);
```

***

## get\_frame\_count﻿ <a href="#get-frame-count" id="get-frame-count"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns amount of frames in the animation.

**Arguments**

None.

**Returns**

| Type  | Description  |
| ----- | ------------ |
| `int` | Frame count. |

**Example**

```lua
local frames = gif:get_frame_count();
gif:set_frame(frames - 2); -- set to the last frame
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a regular field that must be accessed using a dot (.)

[^3]: This field is a method and must be invoked using a colon (:)
# shader

This type represents a shader. [HLSL documentation](https://learn.microsoft.com/en-us/windows/win32/direct3dhlsl/dx-graphics-hlsl-reference)

{% hint style="info" %}
This type inherits [`managed`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

{% hint style="info" %}
Only fragment shaders (aka Pixel Shaders) are supported.
{% endhint %}

{% hint style="success" %}
Rendering system uses Shader Version 4 (ps\_4\_0).
{% endhint %}

## HLSL structures﻿ <a href="#hlsl-structures" id="hlsl-structures"></a>

The constant buffer fields are the following:

| Name    | Type       | Description                       |
| ------- | ---------- | --------------------------------- |
| `mvp`   | `float4x4` | Projection matrix.                |
| `tex`   | `float2`   | Texture dimensions.               |
| `time`  | `float`    | Render time (NOT the frame time). |
| `alpha` | `float`    | Global opacity override.          |

The input fields are the following:

| Name  | Type     | Description                                                        |
| ----- | -------- | ------------------------------------------------------------------ |
| `pos` | `float4` | Vertex position on screen (x,y,z over w). Register: `SV_POSITION`. |
| `col` | `float4` | Vertex color tint (r, g, b, a). Register: `COLOR0`.                |
| `uv`  | `float2` | UV coordinates (u, v). Register: `TEXCOORD0`.                      |

The bound objects are the following:

| Name       | Type        | Description      |
| ---------- | ----------- | ---------------- |
| `sampler0` | `sampler`   | Texture sampler. |
| `texture0` | `Texture2D` | Texture object.  |

Template:

```lua
cbuffer cb : register(b0) {
    float4x4 mvp;
    float2 tex;
    float time;
    float alpha;
};

struct PS_INPUT {
    float4 pos : SV_POSITION;
    float4 col : COLOR0;
    float2 uv : TEXCOORD0;
};

sampler sampler0;
Texture2D texture0;
```

***

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs a shader.

Arguments

| Name  | Type     | Description         |
| ----- | -------- | ------------------- |
| `src` | `string` | Shader source code. |

Returns

| Type     | Description    |
| -------- | -------------- |
| `shader` | Shader object. |

Example

```lua
local blur = draw.shader([[

// define constant buffer.
cbuffer cb : register(b0) {
    float4x4 mvp;
    float2 tex;
    float time;
    float alpha;
};

// define input.
struct PS_INPUT {
    float4 pos : SV_POSITION;
    float4 col : COLOR0;
    float2 uv : TEXCOORD0;
};

// use texture sampler and texture.
sampler sampler0;
Texture2D texture0;

float4 main(PS_INPUT inp) : SV_Target {
    float radius = 2.0; // blur radius
    float2 inv_size = 1.0 / tex.xy; // inversed size of the texture
    float weight = 0.0; // total weight
    float4 color = 0.0; // total color

    // perform a gaussian blur
    for (float x = -radius; x <= radius; x += 1.0)
    {
        for (float y = -radius; y <= radius; y += 1.0)
        {
            float2 coord = inp.uv + float2(x, y) * inv_size;
            color += texture0.Sample(sampler0, coord) * exp(-((x * x + y * y) / (2.0 * radius * radius)));
            weight += exp(-((x * x + y * y) / (2.0 * radius * radius)));
        }
    }

    // average the color
    color /= weight;
    color.a *= inp.col.a; // apply alpha modulation
    return color;
}
]]);
```

[^1]: This is a constructor definition for this type.
# shader

This type represents a shader. [HLSL documentation](https://learn.microsoft.com/en-us/windows/win32/direct3dhlsl/dx-graphics-hlsl-reference)

{% hint style="info" %}
This type inherits [`managed`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

{% hint style="info" %}
Only fragment shaders (aka Pixel Shaders) are supported.
{% endhint %}

{% hint style="success" %}
Rendering system uses Shader Version 4 (ps\_4\_0).
{% endhint %}

## HLSL structures﻿ <a href="#hlsl-structures" id="hlsl-structures"></a>

The constant buffer fields are the following:

| Name    | Type       | Description                       |
| ------- | ---------- | --------------------------------- |
| `mvp`   | `float4x4` | Projection matrix.                |
| `tex`   | `float2`   | Texture dimensions.               |
| `time`  | `float`    | Render time (NOT the frame time). |
| `alpha` | `float`    | Global opacity override.          |

The input fields are the following:

| Name  | Type     | Description                                                        |
| ----- | -------- | ------------------------------------------------------------------ |
| `pos` | `float4` | Vertex position on screen (x,y,z over w). Register: `SV_POSITION`. |
| `col` | `float4` | Vertex color tint (r, g, b, a). Register: `COLOR0`.                |
| `uv`  | `float2` | UV coordinates (u, v). Register: `TEXCOORD0`.                      |

The bound objects are the following:

| Name       | Type        | Description      |
| ---------- | ----------- | ---------------- |
| `sampler0` | `sampler`   | Texture sampler. |
| `texture0` | `Texture2D` | Texture object.  |

Template:

```lua
cbuffer cb : register(b0) {
    float4x4 mvp;
    float2 tex;
    float time;
    float alpha;
};

struct PS_INPUT {
    float4 pos : SV_POSITION;
    float4 col : COLOR0;
    float2 uv : TEXCOORD0;
};

sampler sampler0;
Texture2D texture0;
```

***

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs a shader.

Arguments

| Name  | Type     | Description         |
| ----- | -------- | ------------------- |
| `src` | `string` | Shader source code. |

Returns

| Type     | Description    |
| -------- | -------------- |
| `shader` | Shader object. |

Example

```lua
local blur = draw.shader([[

// define constant buffer.
cbuffer cb : register(b0) {
    float4x4 mvp;
    float2 tex;
    float time;
    float alpha;
};

// define input.
struct PS_INPUT {
    float4 pos : SV_POSITION;
    float4 col : COLOR0;
    float2 uv : TEXCOORD0;
};

// use texture sampler and texture.
sampler sampler0;
Texture2D texture0;

float4 main(PS_INPUT inp) : SV_Target {
    float radius = 2.0; // blur radius
    float2 inv_size = 1.0 / tex.xy; // inversed size of the texture
    float weight = 0.0; // total weight
    float4 color = 0.0; // total color

    // perform a gaussian blur
    for (float x = -radius; x <= radius; x += 1.0)
    {
        for (float y = -radius; y <= radius; y += 1.0)
        {
            float2 coord = inp.uv + float2(x, y) * inv_size;
            color += texture0.Sample(sampler0, coord) * exp(-((x * x + y * y) / (2.0 * radius * radius)));
            weight += exp(-((x * x + y * y) / (2.0 * radius * radius)));
        }
    }

    // average the color
    color /= weight;
    color.a *= inp.col.a; // apply alpha modulation
    return color;
}
]]);
```

[^1]: This is a constructor definition for this type.
# font

This type represents a font object. Internally, this type uses FreeType library to rasterize font glyphs.

{% hint style="info" %}
This type inherits [`font_base`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs a font object.

{% hint style="danger" %}
Passing an invalid pointer, a or memory region that is smaller than the size will result in a crash.
{% endhint %}

**Arguments**

1\. From file.

| Name   | Type                       | Description                                                       |
| ------ | -------------------------- | ----------------------------------------------------------------- |
| `path` | `string`                   | Path to a ttf/otf file.                                           |
| `size` | `float`                    | Font height, in pixels.                                           |
| `fl`   | [`font_flags`](font_flags) | Font flags. Use `bit` library to construct them. Defaults to `0`. |
| `mi`   | `int`                      | Starting codepoint. Defaults to `0`.                              |
| `ma`   | `int`                      | Ending codepoint. Defaults to `255` (entire ASCII code page).     |

1\. From memory.

| Name   | Type                           | Description                                                       |
| ------ | ------------------------------ | ----------------------------------------------------------------- |
| `mem`  | [`ptr`](../../../../types/ptr) | Pointer to a font file in memory.                                 |
| `sz`   | `int`                          | Font file size, in bytes.                                         |
| `size` | `float`                        | Font height, in pixels.                                           |
| `fl`   | [`font_flags`](font_flags)     | Font flags. Use `bit` library to construct them. Defaults to `0`. |
| `mi`   | `int`                          | Starting codepoint. Defaults to `0`.                              |
| `ma`   | `int`                          | Ending codepoint. Defaults to `255` (entire ASCII code page).     |

1\. From memory, with codepoint pairs.

| Name    | Type                           | Description                                                              |
| ------- | ------------------------------ | ------------------------------------------------------------------------ |
| `mem`   | [`ptr`](../../../../types/ptr) | Pointer to a font file in memory.                                        |
| `sz`    | `int`                          | Font file size, in bytes.                                                |
| `size`  | `float`                        | Font height, in pixels.                                                  |
| `fl`    | [`font_flags`](font_flags)     | Font flags. Use `bit` library to construct them. Defaults to `0`.        |
| `pairs` | `table[{int, int}...]`         | Min/max pairs. This is a standard array, consisting of {int, int} pairs. |

**Returns**

| Type   | Description  |
| ------ | ------------ |
| `font` | Font object. |

**Example**

```lua
local cool_font = draw.font('myfont.ttf', 16);
```

[^1]: This is a constructor definition for this type.
# font\_gdi

This type represents a font object. Internally, this type uses GDI library to rasterize font glyphs.

{% hint style="info" %}
This type inherits [`font_base`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs a font object.

**Arguments**

| Name     | Type                       | Description                                                       |
| -------- | -------------------------- | ----------------------------------------------------------------- |
| `name`   | `string`                   | System font name (example: 'Arial').                              |
| `size`   | `float`                    | Font height, in pixels.                                           |
| `fl`     | [`font_flags`](font_flags) | Font flags. Use `bit` library to construct them. Defaults to `0`. |
| `mi`     | `int`                      | Starting codepoint. Defaults to `0`.                              |
| `ma`     | `int`                      | Ending codepoint. Defaults to `255` (entire ASCII code page).     |
| `weight` | `int`                      | Font weight. Defaults to `400` (regular).                         |

**Returns**

| Type       | Description  |
| ---------- | ------------ |
| `font_gdi` | Font object. |

**Example**

```lua
local sys_font = draw.font_gdi('Calibri', 14);
```

[^1]: This is a constructor definition for this type.
# glyph\_t

This type represents a glyph object.

## codepoint﻿ <a href="#codepoint" id="codepoint"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: `int`

Character codepoint.

***

## size﻿ <a href="#size" id="size"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: [`vec2`](../../types/vec2)

Glyph dimensions.

***

## offset﻿ <a href="#offset" id="offset"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: [`vec2`](../../types/vec2)

Glyph offset.

***

## uv﻿ <a href="#uv" id="uv"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: [`rect`](../../types/rect)

UV rect on the texture atlas.

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.
# font\_flags

This enum determines which flags a font object should possess. Setting those flags is only possible during type construction.

***

## shadow﻿ <a href="#shadow" id="shadow"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Adds a 1px shadow to font glyphs.

***

## outline﻿ <a href="#outline" id="outline"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Adds a 1px outline to font glyphs.

***

## anti\_alias﻿ <a href="#anti-alias" id="anti-alias"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Enable antialiasing on font glyphs. This flag only works on GDI fonts.

***

## no\_dpi﻿ <a href="#no-dpi" id="no-dpi"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Disable DPI scaling on this font. By default, font glyphs will be scaled in accordance to the global DPI scale.

***

## no\_kern﻿ <a href="#no-kern" id="no-kern"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Disable glyph kerning on this font.

***

## mono﻿ <a href="#mono" id="mono"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Enables a strong hinting algorithm for rasterization. Only works on FreeType fonts.

***

## light﻿ <a href="#light" id="light"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Enables a light hinting algorithm for rasterization. Only works on FreeType fonts.

[^1]: This field is a regular field that must be accessed using a dot (.)
# entities

This table represents an internal entity list.

{% hint style="danger" %}
Never store any entities in the global scope! Any entity might get deleted, and you will no longer have a valid instance of that entity, which will inevitably lead to a crash. If you need to globally store an entity somewhere, we strongly recommend you store an instance of [`chandle`](https://lua.fatality.win/chandle.html), and use it's [`get`](https://lua.fatality.win/chandle.html#get) method to retrieve the entity again, when needed.
{% endhint %}

## players﻿ <a href="#players" id="players"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`entity_list_t<cs2_player_pawn>`](entities/entity_list_t)

Player pawns.

***

## controllers﻿ <a href="#controllers" id="controllers"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`entity_list_t<cs2_player_controller>`](entities/entity_list_t)

Player controllers.

***

## items﻿ <a href="#items" id="items"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`entity_list_t<cs2_weapon_base>`](entities/entity_list_t)

Items (held).

***

## dropped\_items﻿ <a href="#dropped-items" id="dropped-items"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`entity_list_t<cs2_weapon_base>`](entities/entity_list_t)

Dropped items.

***

## projectiles﻿ <a href="#projectiles" id="projectiles"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`entity_list_t<cs2_grenade_projectile>`](entities/entity_list_t)

Grenade projectiles.

***

## get\_local\_pawn﻿ <a href="#get-local-pawn" id="get-local-pawn"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns the local player's pawn.

**Arguments**

None.

**Returns**

| Type                                                      | Description |
| --------------------------------------------------------- | ----------- |
| [`cs2_player_pawn`](entities/base_entity/cs2_player_pawn) | Pawn.       |

**Example**

```lua
local lp = entities.get_local_pawn();
```

***

## get\_local\_controller﻿ <a href="#get-local-controller" id="get-local-controller"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns the local player's controller.

**Arguments**

None.

**Returns**

| Type                                                                  | Description |
| --------------------------------------------------------------------- | ----------- |
| [`cs2_player_controller`](entities/base_entity/cs2_player_controller) | Controller. |

**Example**

```lua
local lp_ctrl = entities.get_local_controller();
```

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a function and must be invoked using a dot (.)
# entity\_list\_t

This type represents an entity list.

{% hint style="danger" %}
Never save any entities you get from this list if you don't know what you are doing! You may be left with dangling pointers, which will inevitably lead to a crash.
{% endhint %}

## for\_each﻿ <a href="#for-each" id="for-each"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Loops the entities.

**Arguments**

| Name | Type                       | Description        |
| ---- | -------------------------- | ------------------ |
| `fn` | `function(entity_entry_t)` | Function callback. |

**Returns**

Nothing.

**Example**

```lua
entities.players:for_each(function (entry)
    -- ...
end);
```

***

## for\_each\_z﻿ <a href="#for-each-z" id="for-each-z"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Loops the entities in the reverse order.

**Arguments**

| Name | Type                       | Description        |
| ---- | -------------------------- | ------------------ |
| `fn` | `function(entity_entry_t)` | Function callback. |

**Returns**

Nothing.

**Example**

```lua
entities.players:for_each_z(function (entry)
    -- ...
end);
```

[^1]: This field is a method and must be invoked using a colon (:)
# entity\_entry\_t

Represents an entity entry.

## entity﻿ <a href="#entity" id="entity"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `<type>`

Entity instance. Type depends on the list you get it from.

***

## had\_dataupdate﻿ <a href="#had-dataupdate" id="had-dataupdate"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

`true` if the client had received any updates to this entity at least once.

***

## handle﻿ <a href="#handle" id="handle"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`chandle<type>`](../chandle)

Entity's handle. You may store this elsewhere if you need to have global access to an entity.

***

## avatar﻿ <a href="#avatar" id="avatar"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`texture`](../../draw/managed/texture)

{% hint style="success" %}
This field is only available on entries that use `cs2_player_controller` type.
{% endhint %}

Player's profile picture. Will be `nil` if was yet to be initialized.

[^1]: This field is a regular field that must be accessed using a dot (.)
# base\_entity

This type represents a base game entity.

{% hint style="info" %}
####

This type may be returned for any other abstract entity class, but internally will point to the correct type.
{% endhint %}

## \_\_index﻿ <a href="#index" id="index"></a>

<mark style="color:blue;">**`Function`**</mark>

Attemps to search for a field in this class.

**Arguments**

| Name   | Type     | Description |
| ------ | -------- | ----------- |
| `name` | `string` | Field name. |

**Returns**

| Type                                                 | Description                                    |
| ---------------------------------------------------- | ---------------------------------------------- |
| [`schema_accessor_t`](base_entity/schema_accessor_t) | Accessor instance or pointer accessor instance |

**Example**

```lua
local health = player.m_iHealth;
local health = player['m_iHealth']; -- this also works
```

***

## get\_class\_name﻿ <a href="#get-class-name" id="get-class-name"></a>

<mark style="color:blue;">**`Function`**</mark>

Returns schema class name.

**Returns**

| Type     | Description                      |
| -------- | -------------------------------- |
| `string` | Name. Returns `nil` when failed. |

**Example**

```lua
local name = entity:get_class_name()
```

***

## to\_weapon\_base\_gun﻿ <a href="#to-weapon-base-gun" id="to-weapon-base-gun"></a>

<mark style="color:blue;">**`Function`**</mark>

Safe-casts the entity to cs2\_weapon\_base\_gun, returns nil if not a weapon\_base\_gun

**Returns**

| Type                   | Description                                      |
| ---------------------- | ------------------------------------------------ |
| `cs2_weapon_base_gun?` | Casted entity. Returns `nil` if the cast failed. |

**Example**

```lua
local gun = entity:to_weapon_base_gun()
```

***

## to\_weapon\_base﻿ <a href="#to-weapon-base" id="to-weapon-base"></a>

<mark style="color:blue;">**`Function`**</mark>

Safe-casts the entity to cs2\_weapon\_base, returns nil if not a weapon\_base

**Returns**

| Type               | Description                                      |
| ------------------ | ------------------------------------------------ |
| `cs2_weapon_base?` | Casted entity. Returns `nil` if the cast failed. |

**Example**

```lua
local wpn = entity:to_weapon_base()
```

***

## to\_player\_pawn﻿ <a href="#to-player-pawn" id="to-player-pawn"></a>

<mark style="color:blue;">**`Function`**</mark>

Safe-casts the entity to cs2\_player\_pawn, returns nil if not a player\_pawn

**Returns**

| Type               | Description                                      |
| ------------------ | ------------------------------------------------ |
| `cs2_player_pawn?` | Casted entity. Returns `nil` if the cast failed. |

Example

```lua
local pawn = entity:to_player_pawn()
```

***

## to\_player\_controller﻿ <a href="#to-player-controller" id="to-player-controller"></a>

<mark style="color:blue;">**`Function`**</mark>

Safe-casts the entity to cs2\_player\_controller, returns nil if not a player\_controller

**Returns**

| Type                     | Description                                      |
| ------------------------ | ------------------------------------------------ |
| `cs2_player_controller?` | Casted entity. Returns `nil` if the cast failed. |

Example

```lua
local controller = entity:to_player_controller()
```
# schema\_accessor\_t

This type represents a special structure that references a certain field in the entity object.

{% hint style="info" %}
You can check the returned type by using `type()` function.
{% endhint %}

{% hint style="danger" %}
Do not ever store an instance of this type anywhere but in a scope of an event because entity might be removed.
{% endhint %}

## get﻿ <a href="#get" id="get"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the value.

**Arguments**

None.

**Returns**

| Type     | Description |
| -------- | ----------- |
| `<type>` | Value.      |

**Example**

```lua
local health = player.m_iHealth:get();
```

## set﻿ <a href="#set" id="set"></a>

***

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Sets the value.

**Arguments**

| Name    | Type     | Description |
| ------- | -------- | ----------- |
| `value` | `<type>` | Value.      |

**Returns**

Nothing.

**Example**

```lua
player.m_iHealth:set(50); -- won't really do anything with the health
```

[^1]: This field is a method and must be invoked using a colon (:)
# cs2\_weapon\_base\_gun

This type represents a `CCSWeaponBaseGun` class.

{% hint style="info" %}
This type inherits [`base_entity`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## get\_abs\_origin﻿ <a href="#get-abs-origin" id="get-abs-origin"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the absolute origin (the one that is used for rendering).

**Arguments**

None.

**Returns**

| Type                                             | Description |
| ------------------------------------------------ | ----------- |
| [`vector`](https://lua.fatality.win/vector.html) | Origin.     |

Example

```lua
local org = wep:get_abs_origin();
```

***

## get\_max\_speed﻿ <a href="#get-max-speed" id="get-max-speed"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the maximal player speed when holding this weapon.

**Arguments**

None.

**Returns**

| Type    | Description        |
| ------- | ------------------ |
| `float` | Max speed, in UPS. |

**Example**

```lua
local spd = wep:get_max_speed();
```

***

## get\_inaccuracy﻿ <a href="#get-inaccuracy" id="get-inaccuracy"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the current inaccuracy value.

**Arguments**

| Name   | Type                                | Description  |
| ------ | ----------------------------------- | ------------ |
| `mode` | [`csweapon_mode`](../csweapon_mode) | Weapon mode. |

**Returns**

| Type    | Description       |
| ------- | ----------------- |
| `float` | Inaccuracy value. |

**Example**

```lua
local inacc = wep:get_inaccuracy(csweapon_mode.primary_mode);
```

***

## get\_spread﻿ <a href="#get-spread" id="get-spread"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the current spread value.

**Arguments**

| Name   | Type                                | Description  |
| ------ | ----------------------------------- | ------------ |
| `mode` | [`csweapon_mode`](../csweapon_mode) | Weapon mode. |

**Returns**

| Type    | Description       |
| ------- | ----------------- |
| `float` | Inaccuracy value. |

**Example**

```lua
local spread = wep:get_spread(csweapon_mode.primary_mode);
```

***

## get\_id﻿ <a href="#get-id" id="get-id"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the weapon ID.

**Arguments**

None.

**Returns**

| Type                        | Description |
| --------------------------- | ----------- |
| [`weapon_id`](../weapon_id) | Weapon ID.  |

**Example**

```lua
local wep_id = wep:get_id();
```

***

## get\_type﻿ <a href="#get-type" id="get-type"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the weapon type.

**Arguments**

None.

**Returns**

| Type                                | Description  |
| ----------------------------------- | ------------ |
| [`csweapon_type`](../csweapon_type) | Weapon type. |

**Example**

```lua
local type = wep:get_type();
```

***

## get\_data﻿ <a href="#get-data" id="get-data"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the weapon static data.

**Arguments**

None.

**Returns**

| Type                                              | Description  |
| ------------------------------------------------- | ------------ |
| [`ccsweapon_base_vdata`](../ccsweapon_base_vdata) | Weapon data. |

**Example**

```lua
local data = wep:get_data();
```

***

## is\_gun﻿ <a href="#is-gun" id="is-gun"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if this weapon is a firearm.

**Arguments**

None.

**Returns**

| Type   | Description          |
| ------ | -------------------- |
| `bool` | `true` if a firearm. |

**Example**

```lua
if wep:is_gun() then
    -- ...
end
```

***

## is\_attackable﻿ <a href="#is-attackable" id="is-attackable"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if you can attack with this weapon.

**Arguments**

None.

**Returns**

| Type   | Description           |
| ------ | --------------------- |
| `bool` | `true` if can attack. |

**Example**

```lua
if wep:is_attackable() then
    -- ...
end
```

***

## has\_secondary\_attack﻿ <a href="#has-secondary-attack" id="has-secondary-attack"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if this weapon has a secondary attack mode.

**Arguments**

None.

**Returns**

| Type   | Description                              |
| ------ | ---------------------------------------- |
| `bool` | `true` if has the secondary attack mode. |

**Example**

```lua
if wep:has_secondary_attack() then
    -- ...
end
```

***

## has\_spread﻿ <a href="#has-spread" id="has-spread"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if this weapon has spread (e.g. knives do not have any spread).

**Arguments**

None.

**Returns**

| Type   | Description           |
| ------ | --------------------- |
| `bool` | `true` if has spread. |

**Example**

```lua
if wep:has_spread() then
    -- ...
end
```

[^1]: This field is a method and must be invoked using a colon (:)
# cs2\_player\_pawn

This type represents a `C_CSPlayerPawn` class.

{% hint style="info" %}
This type inherits [`base_entity`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## should\_draw﻿ <a href="#should-draw" id="should-draw"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the game will draw this player on screen.

**Arguments**

None.

**Returns**

| Type   | Description     |
| ------ | --------------- |
| `bool` | `true` if will. |

**Example**

```lua
if player:should_draw() then
    -- ...
end
```

***

## is\_left\_handed﻿ <a href="#is-left-handed" id="is-left-handed"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if left-hand mode is enabled.

**Arguments**

None.

**Returns**

| Type   | Description            |
| ------ | ---------------------- |
| `bool` | `true` if left-handed. |

**Example**

```lua
if player:is_left_handed() then
    -- ...
end
```

***

## get\_abs\_origin﻿ <a href="#get-abs-origin" id="get-abs-origin"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the absolute origin (the one that is used for rendering).

**Arguments**

None.

**Returns**

| Type                              | Description |
| --------------------------------- | ----------- |
| [`vector`](../../../types/vector) | Origin.     |

**Example**

```lua
local org = player:get_abs_origin();
```

***

## get\_abs\_angles﻿ <a href="#get-abs-angles" id="get-abs-angles"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the absolute angles (the one that is used for rendering).

**Arguments**

None.

**Returns**

| Type                              | Description |
| --------------------------------- | ----------- |
| [`vector`](../../../types/vector) | Angles.     |

**Example**

```lua
local ang = player:get_abs_angles();
```

***

## get\_abs\_velocity﻿ <a href="#get-abs-velocity" id="get-abs-velocity"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns the absolute velocity.

**Arguments**

None.&#x20;

**Returns**

| Type                              | Description |
| --------------------------------- | ----------- |
| [`vector`](../../../types/vector) | Velocity.   |

Example

```lua
local vel = player:get_abs_velocity();
```

***

## set\_abs\_origin﻿ <a href="#set-abs-origin" id="set-abs-origin"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Sets the new absolute origin.

**Arguments**

| Name  | Type                              | Description |
| ----- | --------------------------------- | ----------- |
| `vec` | [`vector`](../../../types/vector) | New origin. |

**Returns**

Nothing.

**Example**

```lua
player:set_abs_origin(my_vec);
```

***

## set\_abs\_angles﻿ <a href="#set-abs-angles" id="set-abs-angles"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Sets new absolute angles.

**Arguments**

| Name  | Type                              | Description |
| ----- | --------------------------------- | ----------- |
| `ang` | [`vector`](../../../types/vector) | New angles. |

**Returns**

Nothing.

**Example**

```lua
player:set_abs_angles(my_ang);
```

***

## set\_abs\_velocity﻿ <a href="#set-abs-velocity" id="set-abs-velocity"></a>

<mark style="color:purple;">**`Method`**</mark>

Sets new absolute velocity.

**Arguments**

| Name  | Type                              | Description   |
| ----- | --------------------------------- | ------------- |
| `vel` | [`vector`](../../../types/vector) | New velocity. |

**Returns**

Nothing.

**Example**

```lua
player:set_abs_velocity(my_vel);
```

***

## is\_alive﻿ <a href="#is-alive" id="is-alive"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the player is alive.

**Arguments**

None.

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `bool` | `true` if alive. |

**Example**

```lua
if player:is_alive() then
    -- ...
end
```

***

## is\_enemy﻿ <a href="#is-enemy" id="is-enemy"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if this player is an enemy to the local player.

**Arguments**

None.

**Returns**

| Type   | Description         |
| ------ | ------------------- |
| `bool` | `true` if an enemy. |

**Example**

```lua
if player:is_enemy() then
    -- ...
end
```

***

## is\_enemy\_to﻿ <a href="#is-enemy-to" id="is-enemy-to"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns whether this player is an enemy to another entity.

**Arguments**

| Name  | Type              | Description   |
| ----- | ----------------- | ------------- |
| `ent` | [`base_entity`]() | Other entity. |

**Returns**

| Type   | Description         |
| ------ | ------------------- |
| `bool` | `true` if an enemy. |

**Example**

```lua
if player:is_enemy_to(other_player) then
    -- ...
end
```

***

## get\_active\_weapon﻿ <a href="#get-active-weapon" id="get-active-weapon"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the active weapon.

**Arguments**

None.

**Returns**

| Type                                         | Description      |
| -------------------------------------------- | ---------------- |
| [`cs2_weapon_base_gun`](cs2_weapon_base_gun) | Weapon instance. |

**Example**

```lua
local wep = player:get_active_weapon();
```

***

## get\_name﻿ <a href="#get-name" id="get-name"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the sanitized player name.

**Arguments**

None.

**Returns**

| Type     | Description    |
| -------- | -------------- |
| `string` | Player's name. |

**Example**

```lua
local name = player:get_name();
```

***

## get\_view\_offset﻿ <a href="#get-view-offset" id="get-view-offset"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the player's view offset (eye location relative to the player's origin).

**Arguments**

None.

**Returns**

| Type                              | Description  |
| --------------------------------- | ------------ |
| [`vector`](../../../types/vector) | View offset. |

**Example**

```lua
local vo = player:get_view_offset();
```

***

## get\_eye\_pos﻿ <a href="#get-eye-pos" id="get-eye-pos"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the player's eye position.

**Arguments**

None.

**Returns**

| Type                              | Description   |
| --------------------------------- | ------------- |
| [`vector`](../../../types/vector) | Eye position. |

**Example**

```lua
local eyes = player:get_eye_pos();
```

[^1]: This field is a method and must be invoked using a colon (:)
# cs2\_player\_controller

This type represents a `CCSPlayerController` class.

{% hint style="info" %}
This type inherits [`base_entity`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## is\_enemy﻿ <a href="#is-enemy" id="is-enemy"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if this player is an enemy to the local player.

**Arguments**

None.

**Returns**

| Type   | Description         |
| ------ | ------------------- |
| `bool` | `true` if an enemy. |

**Example**

```lua
if player:is_enemy() then
    -- ...
end
```

***

## get\_name﻿ <a href="#get-name" id="get-name"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the sanitized player name.

**Arguments**

None.

**Returns**

| Type     | Description    |
| -------- | -------------- |
| `string` | Player's name. |

**Example**

```lua
local name = player:get_name();
```

***

## get\_pawn﻿ <a href="#get-pawn" id="get-pawn"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the pawn attached to this controller.

**Arguments**

None.

**Returns**

| Type                                 | Description    |
| ------------------------------------ | -------------- |
| [`cs2_player_pawn`](cs2_player_pawn) | Pawn instance. |

**Example**

```lua
local pawn = ctrl:get_pawn();
```

***

## get\_active\_weapon﻿ <a href="#get-active-weapon" id="get-active-weapon"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the active weapon.

**Arguments**

None.

**Returns**

| Type                                         | Description      |
| -------------------------------------------- | ---------------- |
| [`cs2_weapon_base_gun`](cs2_weapon_base_gun) | Weapon instance. |

**Example**

```lua
local wep = player:get_active_weapon();
```

***

## get\_observer\_pawn﻿ <a href="#get-observer-pawn" id="get-observer-pawn"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the observer pawn used for this controller.

**Arguments**

None.

**Returns**

| Type              | Description |
| ----------------- | ----------- |
| [`base_entity`]() | Entity.     |

**Example**

```lua
local obs_pawn = ctrl:get_observer_pawn();
```

***

## get\_observer\_target﻿ <a href="#get-observer-target" id="get-observer-target"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the pawn this controller is currently observing.

**Arguments**

None.

**Returns**

| Type              | Description |
| ----------------- | ----------- |
| [`base_entity`]() | Entity.     |

**Example**

```lua
local obs = ctrl:get_observer_target();
```

***

## get\_observer\_mode﻿ <a href="#get-observer-mode" id="get-observer-mode"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the current observer mode.

**Arguments**

None.

**Returns**

| Type                                    | Description    |
| --------------------------------------- | -------------- |
| [`observer_mode_t`](../observer_mode_t) | Observer mode. |

**Example**

```lua
local mode = ctrl:get_observer_mode();
```

[^1]: This field is a method and must be invoked using a colon (:)
# cs2\_weapon\_base

This type represents a `CCSWeaponBase` entity.

{% hint style="info" %}
This type inherits [`base_entity`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## get\_abs\_origin﻿ <a href="#get-abs-origin" id="get-abs-origin"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the absolute origin (the one that is used for rendering).

**Arguments**

None.

**Returns**

| Type                              | Description |
| --------------------------------- | ----------- |
| [`vector`](../../../types/vector) | Origin.     |

**Example**

```lua
local org = wep:get_abs_origin();
```

## get\_id﻿ <a href="#get-id" id="get-id"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the weapon ID.

**Arguments**

None.

**Returns**

| Type                        | Description |
| --------------------------- | ----------- |
| [`weapon_id`](../weapon_id) | Weapon ID.  |

**Example**

```lua
local wep_id = wep:get_id();
```

## get\_type﻿ <a href="#get-type" id="get-type"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the weapon type.

**Arguments**

None.

**Returns**

| Type                                | Description  |
| ----------------------------------- | ------------ |
| [`csweapon_type`](../csweapon_type) | Weapon type. |

**Example**

```lua
local type = wep:get_type();
```

## get\_data﻿ <a href="#get-data" id="get-data"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the weapon static data.

**Arguments**

None.

**Returns**

| Type                                              | Description  |
| ------------------------------------------------- | ------------ |
| [`ccsweapon_base_vdata`](../ccsweapon_base_vdata) | Weapon data. |

**Example**

```lua
local data = wep:get_data();
```

[^1]: This field is a method and must be invoked using a colon (:)
# cs2\_grenade\_projectile

This type represents a grenade projectile.

{% hint style="info" %}
This type inherits [`base_entity`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## get\_abs\_origin﻿ <a href="#get-abs-origin" id="get-abs-origin"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the absolute origin (the one that is used for rendering).

**Arguments**

None.

**Returns**

| Type                              | Description |
| --------------------------------- | ----------- |
| [`vector`](../../../types/vector) | Origin.     |

**Example**

```lua
local org = wep:get_abs_origin();
```

***

## get\_grenade\_type﻿ <a href="#get-grenade-type" id="get-grenade-type"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the grenade type.

**Arguments**

None.

**Returns**

| Type  | Description   |
| ----- | ------------- |
| `int` | Grenade type. |

**Example**

```lua
local type = gren:get_grenade_type();
```

[^1]: This field is a method and must be invoked using a colon (:)
# ccsweapon\_base\_vdata

This type represents a weapon's static data.&#x20;

## \_\_index﻿ <a href="#index" id="index"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Attemps to search for a field in this class.

**Arguments**

| Name   | Type     | Description |
| ------ | -------- | ----------- |
| `name` | `string` | Field name. |

**Returns**

| Type                                                 | Description        |
| ---------------------------------------------------- | ------------------ |
| [`schema_accessor_t`](base_entity/schema_accessor_t) | Accessor instance. |

**Example**

```lua
local price = wpn_data.m_nPrice;
local price = wpn_data['m_nPrice']; -- this also works
```



[^1]: This field is a function and must be invoked using a dot (.)
# cfiring\_mode

Firing mode information.

### values\_arr﻿ <a href="#values-arr" id="values-arr"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: `<type>`

Values.

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.
# chandle

This type represents an entity handle.

{% hint style="info" %}
You can also compare this type using a `==` operator.
{% endhint %}

## get﻿ <a href="#get" id="get"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the entity, or `nil` if nothing found.

**Arguments**

None.

**Returns**

| Type     | Description      |
| -------- | ---------------- |
| `<type>` | Entity instance. |

**Example**

```lua
local ent = handle:get();
```

***

## valid﻿ <a href="#valid" id="valid"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the handle is valid.

**Arguments**

None.

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `bool` | `true` if valid. |

Example

```lua
if handle:valid() then
    -- ...
end
```

***

## is\_clientside﻿ <a href="#is-clientside" id="is-clientside"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the handle links to a client-side entity.

**Arguments**

None.

**Returns**

| Type   | Description             |
| ------ | ----------------------- |
| `bool` | `true` if client-sided. |

**Example**

```lua
if handle:is_clientside() then
    -- ...
end
```

[^1]: This field is a method and must be invoked using a colon (:)
# csweapon\_mode

This enum represents the firing mode for a weapon.

## primary\_mode﻿ <a href="#primary-mode" id="primary-mode"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Primary mode (usually left mouse button).

***

## secondary\_mode﻿ <a href="#secondary-mode" id="secondary-mode"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Secondary mode (usually right mouse button).

[^1]: This field is a regular field that must be accessed using a dot (.)
# csweapon\_type

This enum represents the weapon type in the game.

## knife﻿ <a href="#knife" id="knife"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a knife-type weapon.

***

## pistol﻿ <a href="#pistol" id="pistol"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a pistol-type weapon.

***

## submachinegun﻿ <a href="#submachinegun" id="submachinegun"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a submachine gun-type weapon.

***

## rifle﻿ <a href="#rifle" id="rifle"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a rifle-type weapon.

***

## shotgun﻿ <a href="#shotgun" id="shotgun"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a shotgun-type weapon.

***

## sniper\_rifle﻿ <a href="#sniper-rifle" id="sniper-rifle"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a sniper rifle-type weapon.

***

## machinegun﻿ <a href="#machinegun" id="machinegun"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a machine gun-type weapon.

***

## c4﻿ <a href="#c4" id="c4"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a C4 explosive.

***

## taser﻿ <a href="#taser" id="taser"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a taser weapon.

***

## grenade﻿ <a href="#grenade" id="grenade"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a grenade-type weapon.

***

## stackableitem﻿ <a href="#stackableitem" id="stackableitem"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a stackable item-type weapon.

***

## fists﻿ <a href="#fists" id="fists"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents fists as a weapon type.

***

## breachcharge﻿ <a href="#breachcharge" id="breachcharge"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a breach charge-type weapon.

***

## bumpmine﻿ <a href="#bumpmine" id="bumpmine"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a bump mine-type weapon.

***

## tablet﻿ <a href="#tablet" id="tablet"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a tablet-type weapon.

***

## melee﻿ <a href="#melee" id="melee"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a melee-type weapon.

***

## shield﻿ <a href="#shield" id="shield"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a shield-type weapon.

***

## zone\_repulsor﻿ <a href="#zone-repulsor" id="zone-repulsor"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a zone repulsor-type weapon.

***

## unknown﻿ <a href="#unknown" id="unknown"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an unknown weapon type.

[^1]: This field is a regular field that must be accessed using a dot (.)
# weapon\_id

This enum represents the unique identifier for various weapons in the game.

## none﻿ <a href="#none" id="none"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents no weapon.

***

## deagle﻿ <a href="#deagle" id="deagle"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Desert Eagle.

***

## elite﻿ <a href="#elite" id="elite"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents the Dual Berettas.

***

## fiveseven﻿ <a href="#fiveseven" id="fiveseven"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Five-SeveN.

***

## glock﻿ <a href="#glock" id="glock"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Glock-18.

***

## ak47﻿ <a href="#ak47" id="ak47"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an AK-47.

***

## aug﻿ <a href="#aug" id="aug"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an AUG.

***

## awp﻿ <a href="#awp" id="awp"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an AWP.

***

## famas﻿ <a href="#famas" id="famas"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a FAMAS.

***

## g3sg1﻿ <a href="#g3sg1" id="g3sg1"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a G3SG1.

***

## galilar﻿ <a href="#galilar" id="galilar"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Galil AR.

***

## m249﻿ <a href="#m249" id="m249"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an M249.

***

## m4a1﻿ <a href="#m4a1" id="m4a1"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an M4A4.

***

## mac10﻿ <a href="#mac10" id="mac10"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a MAC-10.

***

## p90﻿ <a href="#p90" id="p90"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a P90.

***

## zone\_repulsor﻿ <a href="#zone-repulsor" id="zone-repulsor"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a zone repulsor device.

***

## mp5sd﻿ <a href="#mp5sd" id="mp5sd"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an MP5-SD.

***

## ump45﻿ <a href="#ump45" id="ump45"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a UMP-45.

***

## xm1014﻿ <a href="#xm1014" id="xm1014"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an XM1014.

***

## bizon﻿ <a href="#bizon" id="bizon"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a PP-Bizon.

***

## mag7﻿ <a href="#mag7" id="mag7"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a MAG-7.

***

## negev﻿ <a href="#negev" id="negev"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Negev.

***

## sawedoff﻿ <a href="#sawedoff" id="sawedoff"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Sawed-Off.

***

## tec9﻿ <a href="#tec9" id="tec9"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Tec-9.

***

## taser﻿ <a href="#taser" id="taser"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Zeus x27 taser.

***

## hkp2000﻿ <a href="#hkp2000" id="hkp2000"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a P2000.

***

## mp7﻿ <a href="#mp7" id="mp7"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an MP7.

***

## mp9﻿ <a href="#mp9" id="mp9"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an MP9.

***

## nova﻿ <a href="#nova" id="nova"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Nova.

***

## p250﻿ <a href="#p250" id="p250"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a P250.

***

## shield﻿ <a href="#shield" id="shield"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a shield.

***

## scar20﻿ <a href="#scar20" id="scar20"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a SCAR-20.

***

## sg556﻿ <a href="#sg556" id="sg556"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an SG 553.

***

## ssg08﻿ <a href="#ssg08" id="ssg08"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an SSG 08.

***

## knifegg﻿ <a href="#knifegg" id="knifegg"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents the Golden Knife.

***

## knife﻿ <a href="#knife" id="knife"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents the default knife.

***

## flashbang﻿ <a href="#flashbang" id="flashbang"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a flashbang.

***

## hegrenade﻿ <a href="#hegrenade" id="hegrenade"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an HE grenade.

***

## smokegrenade﻿ <a href="#smokegrenade" id="smokegrenade"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a smoke grenade.

***

## molotov﻿ <a href="#molotov" id="molotov"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Molotov.

***

## decoy﻿ <a href="#decoy" id="decoy"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a decoy grenade.

***

## incgrenade﻿ <a href="#incgrenade" id="incgrenade"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an incendiary grenade.

***

## c4﻿ <a href="#c4" id="c4"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a C4 explosive.

***

## healthshot﻿ <a href="#healthshot" id="healthshot"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a health shot.

***

## knife\_t﻿ <a href="#knife-t" id="knife-t"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents the Terrorist knife.

***

## m4a1\_silencer﻿ <a href="#m4a1-silencer" id="m4a1-silencer"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents the M4A1-S.

***

## usp\_silencer﻿ <a href="#usp-silencer" id="usp-silencer"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents the USP-S.

***

## cz75a﻿ <a href="#cz75a" id="cz75a"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a CZ75-Auto.

***

## revolver﻿ <a href="#revolver" id="revolver"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an R8 Revolver.

***

## tagrenade﻿ <a href="#tagrenade" id="tagrenade"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a tactical awareness grenade.

***

## fists﻿ <a href="#fists" id="fists"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents fists.

***

## breachcharge﻿ <a href="#breachcharge" id="breachcharge"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a breach charge.

***

## tablet﻿ <a href="#tablet" id="tablet"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a tablet.

***

## melee﻿ <a href="#melee" id="melee"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a generic melee weapon.

***

## axe﻿ <a href="#axe" id="axe"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an axe.

***

## hammer﻿ <a href="#hammer" id="hammer"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a hammer.

***

## spanner﻿ <a href="#spanner" id="spanner"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a spanner (wrench).

***

## knife\_ghost﻿ <a href="#knife-ghost" id="knife-ghost"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a ghost knife.

***

## firebomb﻿ <a href="#firebomb" id="firebomb"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a firebomb grenade.

***

## diversion﻿ <a href="#diversion" id="diversion"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a diversion device.

***

## fraggrenade﻿ <a href="#fraggrenade" id="fraggrenade"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a fragmentation grenade.

***

## snowball﻿ <a href="#snowball" id="snowball"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a snowball.

***

## bumpmine﻿ <a href="#bumpmine" id="bumpmine"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a bump mine.

***

## knife\_bayonet﻿ <a href="#knife-bayonet" id="knife-bayonet"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Bayonet.

***

## knife\_css﻿ <a href="#knife-css" id="knife-css"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents the Classic Knife.

***

## knife\_flip﻿ <a href="#knife-flip" id="knife-flip"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Flip Knife.

***

## knife\_gut﻿ <a href="#knife-gut" id="knife-gut"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Gut Knife.

***

## knife\_karambit﻿ <a href="#knife-karambit" id="knife-karambit"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Karambit.

***

## knife\_m9bayonet﻿ <a href="#knife-m9bayonet" id="knife-m9bayonet"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an M9 Bayonet.

***

## knife\_tactical﻿ <a href="#knife-tactical" id="knife-tactical"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Huntsman Knife.

***

## knife\_falchion﻿ <a href="#knife-falchion" id="knife-falchion"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Falchion Knife.

***

## knife\_survival\_bowie﻿ <a href="#knife-survival-bowie" id="knife-survival-bowie"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Bowie Knife.

***

## knife\_butterfly﻿ <a href="#knife-butterfly" id="knife-butterfly"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Butterfly Knife.

***

## knife\_push﻿ <a href="#knife-push" id="knife-push"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Shadow Daggers.

***

## knife\_cord﻿ <a href="#knife-cord" id="knife-cord"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Paracord Knife.

***

## knife\_canis﻿ <a href="#knife-canis" id="knife-canis"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Survival Knife.

***

## knife\_ursus﻿ <a href="#knife-ursus" id="knife-ursus"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an Ursus Knife.

***

## knife\_gypsy\_jackknife﻿ <a href="#knife-gypsy-jackknife" id="knife-gypsy-jackknife"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Navaja Knife.

***

## knife\_outdoor﻿ <a href="#knife-outdoor" id="knife-outdoor"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Nomad Knife.

***

## knife\_stiletto﻿ <a href="#knife-stiletto" id="knife-stiletto"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Stiletto Knife.

***

## knife\_widowmaker﻿ <a href="#knife-widowmaker" id="knife-widowmaker"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Talon Knife.

***

## knife\_skeleton﻿ <a href="#knife-skeleton" id="knife-skeleton"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Skeleton Knife.

***

## knife\_kukri﻿ <a href="#knife-kukri" id="knife-kukri"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a Kukri Knife.

[^1]: This field is a regular field that must be accessed using a dot (.)
# csweapon\_category

This enum represents the category classification for weapons in the game.

## other﻿ <a href="#other" id="other"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents weapons or items that don't fit into any specific category.

***

## melee﻿ <a href="#melee" id="melee"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents melee weapons, such as knives or other close-combat tools.

***

## secondary﻿ <a href="#secondary" id="secondary"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents secondary weapons, such as pistols.

***

## smg﻿ <a href="#smg" id="smg"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents submachine guns (SMGs).

***

## rifle﻿ <a href="#rifle" id="rifle"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents rifles, including assault rifles and sniper rifles.

***

## heavy﻿ <a href="#heavy" id="heavy"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents heavy weapons, such as machine guns and shotguns.

[^1]: This field is a regular field that must be accessed using a dot (.)
# observer\_mode\_t

This enum represents the observer modes available in the game.

***

## none﻿ <a href="#none" id="none"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents no observer mode (not spectating anyone).

***

## fixed﻿ <a href="#fixed" id="fixed"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a fixed camera position.

***

## in\_eye﻿ <a href="#in-eye" id="in-eye"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents observing from the perspective of the player being spectated.

***

## chase﻿ <a href="#chase" id="chase"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a chase camera that follows the player being spectated.

***

## roaming﻿ <a href="#roaming" id="roaming"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents a free-roaming camera.

***

## directed﻿ <a href="#directed" id="directed"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Represents an automatically directed camera, typically controlled by the game or server.

[^1]: This field is a regular field that must be accessed using a dot (.)
# gui

Usage:

`gui.{func_or_field}`

<table><thead><tr><th width="248">Usage: gui.{func_or_field}</th></tr></thead><tbody><tr><td></td></tr></tbody></table>

This table exposes the GUI system of the software.

{% hint style="info" %}
All types and enums described in the child sections must be prefixed with `gui.`.
{% endhint %}

## ctx﻿ <a href="#ctx" id="ctx"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`context`](gui/context)

GUI context.

***

## notify﻿ <a href="#notify" id="notify"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`notification_system`](gui/notification_system)

Notification system.

***

## input﻿ <a href="#input" id="input"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`context_input`](gui/context_input)

Input context.

***

## make\_control﻿ <a href="#make-control" id="make-control"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Wraps a control into a layout consisting of a label and that specific control. You should add this new control to groupboxes if you want your control to be displayed nicely. Additionally, you can add any extra controls to the returned one - those will get stacked to the left side of your initial control.

**Arguments**

| Name   | Type                     | Description     |
| ------ | ------------------------ | --------------- |
| `text` | `string`                 | Label value.    |
| `c`    | [`control`](gui/control) | Control object. |

**Returns**

| Type                                               | Description    |
| -------------------------------------------------- | -------------- |
| [`layout`](gui/container/control_container/layout) | Layout object. |

**Example**

```lua
local row = gui.make_control('Hello checkbox!', my_cb);
```

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a function and must be invoked using a dot (.)
# Types

In this section, the most common **gui** types are listed, that are not particularly bound to a specific part of the gui.

{% hint style="info" %}
Use the left menu (or hamburger menu, if you are on mobile) to navigate between types.
{% endhint %}
# bits

This type represents a bitset value.

{% hint style="danger" %}
Maximal bit number for this type is 63. Setting or getting any bits outside of that range will cause a crash.
{% endhint %}

## reset﻿ <a href="#reset" id="reset"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Resets the value.

**Arguments**

None.

**Returns**

Nothing.

**Example**

```lua
bits:reset();
```

***

## get\_raw﻿ <a href="#get-raw" id="get-raw"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the raw value.

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Raw value.  |

**Example**

```lua
local raw = bits:get_raw();
```

***

## set\_raw﻿ <a href="#set-raw" id="set-raw"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Sets the raw value.

**Arguments**

| Name  | Type  | Description |
| ----- | ----- | ----------- |
| `val` | `int` | Raw value.  |

**Returns**

Nothing.

**Example**

```lua
bits:set_raw(long_long_value);
```

***

## none﻿ <a href="#none" id="none"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if no bits are set.

**Arguments**

None.

**Returns**

| Type   | Description                |
| ------ | -------------------------- |
| `bool` | `true` if no bits are set. |

**Example**

```lua
if bits:none() then
    -- ...
end
```

***

## set﻿ <a href="#set" id="set"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Enables a bit.

**Arguments**

| Name  | Type  | Description |
| ----- | ----- | ----------- |
| `bit` | `int` | Bit number. |

**Returns**

Nothing.

**Example**

```lua
bits:set(5); -- set bit #5 (same as bit.bor(val, bit.lshift(1, 5)))
```

***

## unset﻿ <a href="#unset" id="unset"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Disables a bit.

**Arguments**

| Name  | Type  | Description |
| ----- | ----- | ----------- |
| `bit` | `int` | Bit number. |

**Returns**

Nothing.

**Example**

```lua
bits:unset(5);
```

***

## get﻿ <a href="#get" id="get"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns bit state.

**Arguments**

| Name  | Type  | Description |
| ----- | ----- | ----------- |
| `bit` | `int` | Bit number. |

**Returns**

| Type   | Description |
| ------ | ----------- |
| `bool` | Bit status. |

**Example**

```lua
if bits:get(5) then
    -- ...
end
```

***

## toggle﻿ <a href="#toggle" id="toggle"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Toggles bit state.

**Arguments**

| Name  | Type  | Description |
| ----- | ----- | ----------- |
| `bit` | `int` | Bit number. |

**Returns**

Nothing.

**Example**

```lua
bits:toggle(5);
```

[^1]: This field is a method and must be invoked using a colon (:)
# control\_id

This type represents a control ID.

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the ID structure.

**Arguments**

| Name | Type     | Description |
| ---- | -------- | ----------- |
| `id` | `string` | ID.         |

**Returns**

| Type         | Description   |
| ------------ | ------------- |
| `control_id` | ID structure. |

**Example**

```lua
local id = gui.control_id('my_id');
```

***

## id﻿ <a href="#id" id="id"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-3)[^3]

Type: `int`

Hashed representation of the ID.

***

## id\_string﻿ <a href="#id-string" id="id-string"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-3)[^3]

Type: `string`

Normal representation of the ID.

[^1]: This is a constructor definition for this type.

[^2]: This field is a regular field that must be accessed using a dot (.)

[^3]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.
# context

This type represents the GUI context.

## find﻿ <a href="#find" id="find"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Finds a control by ID.

**Arguments**

| Name | Type     | Description |
| ---- | -------- | ----------- |
| `id` | `string` | Control ID. |

**Returns**

| Type         | Description                                                                    |
| ------------ | ------------------------------------------------------------------------------ |
| `<control>?` | Casted control. Returns `nil` if the control was not found, or casting failed. |

**Example**

```lua
local some_cb = ctx:find('some_cb');
```

***

## user﻿ <a href="#user" id="user"></a>

Field

Type: [`user_t`](context/user_t)

User's basic information.

[^1]: This field is a method and must be invoked using a colon (:)
# user\_t

This type represents basic user information.

## avatar﻿ <a href="#avatar" id="avatar"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: [`texture?`](../../draw/managed/texture)

User's avatar. May be `nil`.

***

## username﻿ <a href="#username" id="username"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: `string`

User's username.

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.
# context\_input

This type represents the GUI input context.

{% hint style="info" %}
You can use `cursor`, `is_mouse_up`, `is_mouse_down`, `is_key_up` and `is_key_down` methods outside [`input`](../../events#input) context. Using other methods will not make any sense, as the information will be outdated.
{% endhint %}

## cursor﻿ <a href="#cursor" id="cursor"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns current cursor position.

**Arguments**

None.

**Returns**

| Type                         | Description      |
| ---------------------------- | ---------------- |
| [`vec2`](../draw/types/vec2) | Cursor position. |

**Example**

```lua
local cur = gui.input:cursor();
```

***

## cursor\_prev﻿ <a href="#cursor-prev" id="cursor-prev"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns previous cursor position.

**Arguments**

None.

**Returns**

| Type                         | Description               |
| ---------------------------- | ------------------------- |
| [`vec2`](../draw/types/vec2) | Previous cursor position. |

**Example**

```lua
local prev = gui.input:cursor_prev();
```

***

## cursor\_delta﻿ <a href="#cursor-delta" id="cursor-delta"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Delta value between previous and current cursor positions.

**Arguments**

None.

**Returns**

| Type                         | Description   |
| ---------------------------- | ------------- |
| [`vec2`](../draw/types/vec2) | Cursor delta. |

**Example**

```lua
local delta = gui.input:cursor_delta();
```

***

## did\_cursor\_move﻿ <a href="#did-cursor-move" id="did-cursor-move"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the cursor did move since the last input.

**Arguments**

None.

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `bool` | `true` if moved. |

**Example**

```lua
if gui.input:did_cursor_move() then
    -- ...
end
```

***

## did\_wheel\_move﻿ <a href="#did-wheel-move" id="did-wheel-move"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if mouse scroll wheel did move since the last input.

**Arguments**

None.

**Returns**

| Type   | Description      |
| ------ | ---------------- |
| `bool` | `true` if moved. |

**Example**

```lua
if gui.input:did_wheel_move() then
    -- ...
end
```

***

***

## did\_process\_mouse﻿ <a href="#did-process-mouse" id="did-process-mouse"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if any mouse key's state had changed.

**Arguments**

None.

**Returns**

| Type   | Description          |
| ------ | -------------------- |
| `bool` | `true` if processed. |

**Example**

```lua
if gui.input:did_process_mouse() then
    -- ...
end
```

***

***

## button\_released﻿ <a href="#button-released" id="button-released"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if any key was released since the last input.

**Arguments**

None.

**Returns**

| Type   | Description         |
| ------ | ------------------- |
| `bool` | `true` if released. |

**Example**

```lua
if gui.input:button_released() then
    -- ...
end
```

***

***

## wheel\_delta﻿ <a href="#wheel-delta" id="wheel-delta"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the amount of rows scrolled this input.

**Arguments**

None.

**Returns**

| Type    | Description    |
| ------- | -------------- |
| `float` | Rows scrolled. |

**Example**

```lua
local scroll = gui.input:wheel_delta();
```

***

## is\_mouse\_up﻿ <a href="#is-mouse-up" id="is-mouse-up"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the mouse key is up (depressed).

**Arguments**

| Name | Type                                         | Description   |
| ---- | -------------------------------------------- | ------------- |
| `mb` | [`mouse_button`](context_input/mouse_button) | Mouse button. |

**Returns**

| Type   | Description          |
| ------ | -------------------- |
| `bool` | `true` if depressed. |

**Example**

```lua
if gui.input:is_mouse_up(gui.mouse_button.left) then
    -- ...
end
```

***

## is\_mouse\_down﻿ <a href="#is-mouse-down" id="is-mouse-down"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the mouse key is down (pressed).

**Arguments**

| Name | Type                                         | Description   |
| ---- | -------------------------------------------- | ------------- |
| `mb` | [`mouse_button`](context_input/mouse_button) | Mouse button. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `bool` | `true` if pressed. |

**Example**

```lua
if gui.input:is_mouse_down(gui.mouse_button.left) then
    -- ...
end
```

***

## is\_mouse\_clicked﻿ <a href="#is-mouse-clicked" id="is-mouse-clicked"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the mouse key is clicked (switched from depressed to pressed state).

**Arguments**

| Name | Type                                         | Description   |
| ---- | -------------------------------------------- | ------------- |
| `mb` | [`mouse_button`](context_input/mouse_button) | Mouse button. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `bool` | `true` if clicked. |

**Example**

```lua
if gui.input:is_mouse_clicked(gui.mouse_button.left) then
    -- ...
end
```

***

## is\_mouse\_released﻿ <a href="#is-mouse-released" id="is-mouse-released"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if the mouse key is released (switched from pressed to depressed state).

**Arguments**

| Name | Type                                         | Description   |
| ---- | -------------------------------------------- | ------------- |
| `mb` | [`mouse_button`](context_input/mouse_button) | Mouse button. |

**Returns**

| Type   | Description         |
| ------ | ------------------- |
| `bool` | `true` if released. |

**Example**

```lua
if gui.input:is_mouse_released(gui.mouse_button.left) then
    -- ...
end
```

***

## did\_process\_key﻿ <a href="#did-process-key" id="did-process-key"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if any key's state had changed.

**Arguments**

None.

**Returns**

| Type   | Description              |
| ------ | ------------------------ |
| `bool` | `true` if state changed. |

**Example**

```lua
if gui.input:did_process_key() then
    -- ...
end
```

***

## is\_key\_up﻿ <a href="#is-key-up" id="is-key-up"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if a key is up (depressed).

**Arguments**

| Name | Type  | Description  |
| ---- | ----- | ------------ |
| `k`  | `int` | Virtual key. |

**Returns**

| Type   | Description          |
| ------ | -------------------- |
| `bool` | `true` if depressed. |

**Example**

```lua
if gui.input:is_key_up(0x41) then -- 0x41 = "A"
    -- ...
end
```

***

## is\_key\_down﻿ <a href="#is-key-down" id="is-key-down"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if a key is down (pressed).

**Arguments**

| Name | Type  | Description  |
| ---- | ----- | ------------ |
| `k`  | `int` | Virtual key. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `bool` | `true` if pressed. |

**Example**

```lua
if gui.input:is_key_down(0x41) then -- 0x41 = "A"
    -- ...
end
```

***

## is\_key\_clicked﻿ <a href="#is-key-clicked" id="is-key-clicked"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if a key is clicked (switched from depressed to pressed state).

**Arguments**

| Name | Type  | Description  |
| ---- | ----- | ------------ |
| `k`  | `int` | Virtual key. |

**Returns**

| Type   | Description        |
| ------ | ------------------ |
| `bool` | `true` if clicked. |

**Example**

```lua
if gui.input:is_key_clicked(0x41) then -- 0x41 = "A"
    -- ...
end
```

***

## is\_key\_released﻿ <a href="#is-key-released" id="is-key-released"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if a key is released (switched from pressed to depressed state).

**Arguments**

| Name | Type  | Description  |
| ---- | ----- | ------------ |
| `k`  | `int` | Virtual key. |

**Returns**

| Type   | Description         |
| ------ | ------------------- |
| `bool` | `true` if released. |

**Example**

```lua
if gui.input:is_key_released(0x41) then -- 0x41 = "A"
    -- ...
end
```

[^1]: This field is a method and must be invoked using a colon (:)
# mouse\_button

This enum represents mouse buttons.

## left﻿ <a href="#left" id="left"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Left mouse button.

***

## right﻿ <a href="#right" id="right"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Right mouse button.

***

## middle﻿ <a href="#middle" id="middle"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Middle (scroll wheel) mouse button

***

## back﻿ <a href="#back" id="back"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

"Back" mouse button (side button 1).

***

## forward﻿ <a href="#forward" id="forward"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

"Forward" mouse button (side button 2).

[^1]: This field is a regular field that must be accessed using a dot (.)
# notification\_system

This type represents a notification system.

## add﻿ <a href="#add" id="add"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Adds a notification to the list.

**Arguments**

| Name    | Type                                               | Description          |
| ------- | -------------------------------------------------- | -------------------- |
| `notif` | [`notification`](notification_system/notification) | Notification object. |

**Returns**

Nothing.

**Example**

```lua
notif:add(my_notification);
```

[^1]: This field is a method and must be invoked using a colon (:)
# notification

This type represents a notification item.

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the notification.

**Arguments**

| Name  | Type                                     | Description              |
| ----- | ---------------------------------------- | ------------------------ |
| `hdr` | `string`                                 | Header (title).          |
| `txt` | `string`                                 | Text (body).             |
| `ico` | [`texture?`](../../draw/managed/texture) | Icon. Defaults to `nil`. |

**Returns**

| Type           | Description          |
| -------------- | -------------------- |
| `notification` | Notification object. |

**Example**

```lua
local notif = gui.notification('Hello', 'Lua works!');
```

[^1]: This is a constructor definition for this type.
# control

This type represents an abstract GUI control.

## id﻿ <a href="#id" id="id"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: `int`

Control ID.

***

## id\_string﻿ <a href="#id-string" id="id-string"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: `string`

String representation of control's ID. This may be empty for some controls.

***

## is\_visible﻿ <a href="#is-visible" id="is-visible"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: `bool`

Control's visibility state.

***

## parent﻿ <a href="#parent" id="parent"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: `control?`

Parent control. Might be `nil` on some controls.

***

## type﻿ <a href="#type" id="type"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-2)[^2]

Type: [`control_type`](control/control_type)

Control's type.

***

## inactive﻿ <a href="#inactive" id="inactive"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `bool`

If set to `true`, will mark this control to the inactive state.

***

## inactive\_text﻿ <a href="#inactive-text" id="inactive-text"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `string`

Tooltip replacement to show when control is inactive.

***

## inactive\_color﻿ <a href="#inactive-color" id="inactive-color"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`color`](../draw/types/color)

Label color override for inactive controls.

***

## tooltip﻿ <a href="#tooltip" id="tooltip"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `string`

Tooltip text.

***

## aliases﻿ <a href="#aliases" id="aliases"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `table[string]`

Alias list for this control. Used in search box to support different naming (e.g. if a user searches for "Double tap", will find "Rapid fire" instead).

***

## get\_hotkey\_state﻿ <a href="#get-hotkey-state" id="get-hotkey-state"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns `true` if any of the control's hotkeys are active.

**Arguments**

None.

**Returns**

| Type   | Description                     |
| ------ | ------------------------------- |
| `bool` | `true` if any hotkey is active. |

**Example**

```lua
if ctrl:get_hotkey_state() then
    -- ...
end
```

***

## set\_visible﻿ <a href="#set-visible" id="set-visible"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Changes visibility state for this control.

{% hint style="danger" %}
Calling this method on controls that are located in layouts with large amount of other controls will inevitably cause performance issues due to auto-stacking.
{% endhint %}

**Arguments**

| Name  | Type   | Description       |
| ----- | ------ | ----------------- |
| `val` | `bool` | Visibility state. |

**Returns**

Nothing.

**Example**

```lua
ctrl:set_visible(false);
```

***

## add\_callback﻿ <a href="#add-callback" id="add-callback"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Adds a callback to this control.

**Arguments**

| Name  | Type       | Description |
| ----- | ---------- | ----------- |
| `cbk` | `function` | Callback.   |

**Returns**

Nothing.

**Example**

```lua
ctrl:add_callback(function ()
    print('Callback invoked!');
end);
```

***

## cast﻿ <a href="#cast" id="cast"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Attempts to downcast the control to the correct type.

{% hint style="success" %}
Due to Lua engine's limitations, it is impossible to automatically downcast variables. Usually there is no need to call this method, unless you found some control that wasn't somehow already cast to the desired type. `find()` methods automatically perform the cast to the correct type.
{% endhint %}

**Arguments**

None.

**Returns**

| Type        | Description       |
| ----------- | ----------------- |
| `<control>` | New type, if any. |

**Example**

```lua
local checkbox = maybe_checkbox:cast();
```

***

## reset﻿ <a href="#reset" id="reset"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Resets control's state. This action is usually required if you change control's value directly by interacting with [`value_param`](control/value_param).

You also should call this method on layouts if you add multiple controls into them.

**Arguments**

None.

**Returns**

Nothing.

**Example**

```lua
ctrl:reset();
```

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.

[^3]: This field is a method and must be invoked using a colon (:)
# control\_type

This enum determines the current control's type.

{% hint style="success" %}
You can only construct types that are listed below in the navigation, and only if those have a constructor.
{% endhint %}

## default﻿ <a href="#default" id="default"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Default control. You are very unlikely to ever stumble upon this type.

***

## button﻿ <a href="#button" id="button"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Button control.

***

## checkbox﻿ <a href="#checkbox" id="checkbox"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Checkbox control.

***

## child\_tab﻿ <a href="#child-tab" id="child-tab"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Child tab control. Only possible to find within `tab_layout` controls.

***

## color\_picker﻿ <a href="#color-picker" id="color-picker"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Color picker control.

***

## combo\_box﻿ <a href="#combo-box" id="combo-box"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Combo box control.

***

## control\_container﻿ <a href="#control-container" id="control-container"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Default control with a container. You are very unlikely to ever stumble upon this type.

***

## group﻿ <a href="#group" id="group"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Groupbox control.

***

## hotkey﻿ <a href="#hotkey" id="hotkey"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Hotkey input control.

***

## hsv\_slider﻿ <a href="#hsv-slider" id="hsv-slider"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

HSB slider (Saturation/Brightness box, Hue slider and Opacity slider).

***

## label﻿ <a href="#label" id="label"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Label control.

***

## layout﻿ <a href="#layout" id="layout"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Layout control.

***

## list﻿ <a href="#list" id="list"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Listbox control.

***

## loading﻿ <a href="#loading" id="loading"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Loading spinner.

***

## notification\_control﻿ <a href="#notification-control" id="notification-control"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Notification item control. One of the types in the core UI framework, never actually used within Fatality.

***

## popup﻿ <a href="#popup" id="popup"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Basic popup window.

***

## selectable﻿ <a href="#selectable" id="selectable"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Basic selectable item.

***

## slider﻿ <a href="#slider" id="slider"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Slider item. This type doesn't tell the internal value type used.

***

## spacer﻿ <a href="#spacer" id="spacer"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Spacer control.

***

## tab﻿ <a href="#tab" id="tab"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Horizontal or vertical tab.

***

## tabs\_layout﻿ <a href="#tabs-layout" id="tabs-layout"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

A variant of `layout` that is used specifically to operate tabs.

***

## weapon\_tabs\_layout﻿ <a href="#weapon-tabs-layout" id="weapon-tabs-layout"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

A variant of `layout` that is used specifically to operate weapon tabs.

***

## text\_input﻿ <a href="#text-input" id="text-input"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Text input control.

***

## toggle\_button﻿ <a href="#toggle-button" id="toggle-button"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

A variant of button that looks like button, but works like a checkbox.

***

## window﻿ <a href="#window" id="window"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Basic window control.

***

## widget﻿ <a href="#widget" id="widget"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Basic widget control.

***

## settings﻿ <a href="#settings" id="settings"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Settings control.

***

## image﻿ <a href="#image" id="image"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Image control.

[^1]: This field is a regular field that must be accessed using a dot (.)
# value\_param

This type represents a value data used by some control types.

{% hint style="info" %}
Note, that this part: `<type>` is used to designate what exact type the instance of this type is holding. For example, when it says `value_param<bool>`, it means that `get` will return a `bool` value, and `set` will accept only the type `bool` as it's `val` parameter.
{% endhint %}

## get﻿ <a href="#get" id="get"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the value.

**Arguments**

None.

**Returns**

| Type     | Description |
| -------- | ----------- |
| `<type>` | Value.      |

Example

```lua
ctrl:get_value():get();
```

## get\_direct﻿ <a href="#get" id="get"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the value disrgarding any active keybinds.

**Arguments**

None.

**Returns**

| Type     | Description |
| -------- | ----------- |
| `<type>` | Value.      |

Example

```lua
ctrl:get_value():get_direct();
```

## set﻿ <a href="#set" id="set"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Sets the value.

{% hint style="info" %}
It is advised to use `set_value` method of the control, if any.
{% endhint %}

Arguments

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `val` | `<type>` | Value.      |

**Returns**

Nothing.

**Example**

```lua
ctrl:get_value():set(123);
```

## get\_hotkey\_state﻿ <a href="#get-hotkey-state" id="get-hotkey-state"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns `true` if there's any active hotkeys.

**Arguments**

None.

**Returns**

| Type   | Description                     |
| ------ | ------------------------------- |
| `bool` | `true` if any hotkey is active. |

**Example**

```lua
if ctrl:get_value():get_hotkey_state() then
    -- ...
end
```

## disable\_hotkeys﻿ <a href="#disable-hotkeys" id="disable-hotkeys"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Disables all active hotkeys. This allows you to override the value.

**Arguments**

None.

**Returns**

Nothing.

**Example**

```lua
ctrl:get_value():disable_hotkeys();
```

[^1]: This field is a method and must be invoked using a colon (:)
# checkbox

This type represents a checkbox control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the checkbox.

**Arguments**

| Name | Type                                | Description |
| ---- | ----------------------------------- | ----------- |
| `id` | [`control_id`](../types/control_id) | ID.         |

**Returns**

| Type       | Description        |
| ---------- | ------------------ |
| `checkbox` | Checkbox instance. |

**Example**

```lua
local cb = gui.checkbox(gui.control_id('my_id'));
```

***

## get\_value﻿ <a href="#get-value" id="get-value"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns checkbox' value.

**Arguments**

None.

**Returns**

| Type                               | Description |
| ---------------------------------- | ----------- |
| [`value_param<bool>`](value_param) | Value data. |

**Example**

```lua
local val = cb:get_value():get();
```

***

## set\_value﻿ <a href="#set-value" id="set-value"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Sets checkbox' value.

{% hint style="info" %}
It is advised to use this method instead of [`value_param`](value_param)'s [`set`](../value_param#set) method.
{% endhint %}

**Arguments**

| Name  | Type   | Description |
| ----- | ------ | ----------- |
| `val` | `bool` | New value.  |

**Returns**

Nothing.

**Example**

```lua
cb:set_value(true);
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a method and must be invoked using a colon (:)
# slider

This type represents a slider control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the slider.

**Arguments**

| Name   | Type                                | Description                     |
| ------ | ----------------------------------- | ------------------------------- |
| `id`   | [`control_id`](../types/control_id) | Control ID.                     |
| `low`  | `float`                             | Minimum value.                  |
| `high` | `float`                             | Maximum value.                  |
| `fmt`  | `table[...]`                        | Format. Defaults to `{'%.0f'}`. |
| `step` | `float`                             | Step value. Defaults to `1.0`.  |

Format Table

{% hint style="info" %}
Format table can either be a single string with the desired format, or multiple elements with different minimum actuators. You have to pass multiple values in the descendant order, starting from the highest value to the lowest value. `min` and `add` values are both optional, but it makes no sense to leave either of them out.
{% endhint %}

{% hint style="success" %}
Formatting uses standard `printf` syntax. [Documentation](https://cplusplus.com/reference/cstdio/printf/)
{% endhint %}

{% hint style="danger" %}
Passing invalid format will lead to an undefined behavior.
{% endhint %}

1\. Single Formatting.

| Type     | Description    |
| -------- | -------------- |
| `string` | Format string. |

2\. Multi Formatting.

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `min` | `float?` | Minimal value. |
| `add` | `float?` | Add step.      |
| `fmt` | `string` | Format string. |

**Returns**

| Type     | Description    |
| -------- | -------------- |
| `slider` | Slider object. |

**Example**

```lua
local slider = gui.slider(id, 0, 100, {'%.0f%%'});
```

***

## get\_value﻿ <a href="#get-value" id="get-value"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns slider' value.

**Arguments**

None.

**Returns**

| Type                                | Description |
| ----------------------------------- | ----------- |
| [`value_param<float>`](value_param) | Value data. |

Example

```lua
local val = slider:get_value():get();
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a method and must be invoked using a colon (:)
# label

This type represents a label control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the label.

**Arguments**

| Name   | Type                                | Description                                    |
| ------ | ----------------------------------- | ---------------------------------------------- |
| `id`   | [`control_id`](../types/control_id) | Control ID.                                    |
| `str`  | `string`                            | Label string.                                  |
| `col`  | [`color?`](../../draw/types/color)  | Label color. Defaults to `nil`.                |
| `bold` | `bool`                              | Whether to use bold font. Defaults to `false`. |

**Returns**

| Type    | Description   |
| ------- | ------------- |
| `label` | Label object. |

**Example**

```lua
local lab = gui.label(id, 'Hello!');
```

***

### set\_text﻿ <a href="#set-text" id="set-text"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Sets the new text.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `str` | `string` | New text.   |

**Returns**

Nothing.

**Example**

```lua
lab:set_text('New hello!');
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a method and must be invoked using a colon (:)
# selectable

This type represents a selectable control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the selectable.

**Arguments**

| Name  | Type                                | Description  |
| ----- | ----------------------------------- | ------------ |
| `id`  | [`control_id`](../types/control_id) | Control ID.  |
| `str` | `string`                            | Text string. |

**Returns**

| Type         | Description        |
| ------------ | ------------------ |
| `selectable` | Selectable object. |

**Example**

```lua
local sel = gui.selectable(id, 'Hello!');
```

[^1]: This is a constructor definition for this type.
# button

This type represents a button control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the button.

**Arguments**

| Name  | Type                                | Description  |
| ----- | ----------------------------------- | ------------ |
| `id`  | [`control_id`](../types/control_id) | Control ID.  |
| `str` | `string`                            | Text string. |

**Returns**

| Type     | Description    |
| -------- | -------------- |
| `button` | Button object. |

**Example**

```lua
local btn = gui.button(id, 'Hello!');
```

[^1]: This is a constructor definition for this type.
# color\_picker

This type represents a color picker control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the color picker.

**Arguments**

| Name          | Type                                | Description                                          |
| ------------- | ----------------------------------- | ---------------------------------------------------- |
| `id`          | [`control_id`](../types/control_id) | Control ID.                                          |
| `allow_alpha` | `bool`                              | Whether to enable alpha channel. Defaults to `true`. |

**Returns**

| Type           | Description          |
| -------------- | -------------------- |
| `color_picker` | Color picker object. |

**Example**

```lua
local picker = gui.color_picker(id);
```

***

### get\_value﻿ <a href="#get-value" id="get-value"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Returns color picker' value.

**Arguments**

None.

**Returns**

| Type                                | Description |
| ----------------------------------- | ----------- |
| [`value_param<color>`](value_param) | Value data. |

**Example**

```lua
local val = picker:get_value():get();
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a method and must be invoked using a colon (:)
# spacer

This type represents a spacer control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the spacer.

**Arguments**

| Name | Type                                | Description |
| ---- | ----------------------------------- | ----------- |
| `id` | [`control_id`](../types/control_id) | ID.         |

**Returns**

| Type     | Description      |
| -------- | ---------------- |
| `spacer` | Spacer instance. |

**Example**

```lua
local sp = gui.spacer(gui.control_id('my_id'));
```

[^1]: This is a constructor definition for this type.
# text\_input

This type represents a text input control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the text input.

**Arguments**

| Name | Type                                | Description |
| ---- | ----------------------------------- | ----------- |
| `id` | [`control_id`](../types/control_id) | ID.         |

**Returns**

| Type         | Description          |
| ------------ | -------------------- |
| `text_input` | Text input instance. |

**Example**

```lua
local sp = gui.text_input(gui.control_id('my_id'));
```

***

## placeholder﻿ <a href="#placeholder" id="placeholder"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Type: `string`

Placeholder text.

***

## value﻿ <a href="#value" id="value"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2][<kbd><mark style="background-color:orange;">**Read only**<mark style="background-color:orange;"></kbd>](#user-content-fn-3)[^3]

Type: `string`

Value.

***

## set\_value﻿ <a href="#set-value" id="set-value"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-4)[^4]

Sets the new text.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `str` | `string` | New value.  |

**Returns**

Nothing.

**Example**

```lua
input:set_value('Hello!');
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a regular field that must be accessed using a dot (.)

[^3]: This field is a read only field, and you cannot change its value. This does not apply to child fields, if any.

[^4]: This field is a method and must be invoked using a colon (:)
# combo\_box

This type represents a combo box control.

{% hint style="info" %}
This type inherits [`control_container`](../container/control_container) type. All of its base methods and fields are also available in this type.
{% endhint %}

{% hint style="info" %}
`add` method expects an instance of [`selectable`](selectable). Passing other control types will not add them to the list.
{% endhint %}

{% hint style="success" %}
Value bits are toggled in order of selectables. That means if the first element is toggled, so will be the first bit, etc.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the combo box.

**Arguments**

| Name | Type                                | Description |
| ---- | ----------------------------------- | ----------- |
| `id` | [`control_id`](../types/control_id) | ID.         |

**Returns**

| Type        | Description         |
| ----------- | ------------------- |
| `combo_box` | Combo box instance. |

**Example**

```lua
local cb = gui.combo_box(gui.control_id('my_id'));
```

***

## allow\_multiple﻿ <a href="#allow-multiple" id="allow-multiple"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Type: `bool`

If set to `true`, the checkbox will be able to toggle multiple selectables.

***

## get\_value﻿ <a href="#get-value" id="get-value"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns combo box' value.

**Arguments**

None.

**Returns**

| Type                               | Description |
| ---------------------------------- | ----------- |
| [`value_param<bits>`](value_param) | Value data. |

Example

```lua
local val = cb:get_value():get();
```

[^1]: This is a constructor definition for this type.

[^2]: This field is a regular field that must be accessed using a dot (.)

[^3]: This field is a method and must be invoked using a colon (:)
# image

This type represents an image control.

{% hint style="info" %}
This type inherits [`control`]() type. All of its base methods and fields are also available in this type.
{% endhint %}

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Constructs the image.

**Arguments**

| Name  | Type                                    | Description |
| ----- | --------------------------------------- | ----------- |
| `id`  | [`control_id`](../types/control_id)     | ID.         |
| `tex` | [`texture`](../../draw/managed/texture) | Texture.    |

**Returns**

| Type    | Description     |
| ------- | --------------- |
| `image` | Image instance. |

**Example**

```lua
local img = gui.image(gui.control_id('my_id'));
```

[^1]: This is a constructor definition for this type.
# container

This type represents an abstract container.

## add﻿ <a href="#add" id="add"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Adds a control to the container.

Arguments

| Name   | Type                 | Description     |
| ------ | -------------------- | --------------- |
| `ctrl` | [`control`](control) | Control to add. |

**Returns**

Nothing.

**Example**

```lua
container:add(my_control);
```

***

## remove﻿ <a href="#remove" id="remove"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Removes a control from the container.

**Arguments**

| Name   | Type                 | Description        |
| ------ | -------------------- | ------------------ |
| `ctrl` | [`control`](control) | Control to remove. |

**Returns**

Nothing.

**Example**

```lua
container:remove(my_control);
```

***

## find﻿ <a href="#find" id="find"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Finds a control by ID.

Arguments

| Name | Type     | Description |
| ---- | -------- | ----------- |
| `id` | `string` | Control ID. |

Returns

| Type         | Description                                                                    |
| ------------ | ------------------------------------------------------------------------------ |
| `<control>?` | Casted control. Returns `nil` if the control was not found, or casting failed. |

Example

```lua
local some_cb = container:find('some_cb');
```

[^1]: This field is a method and must be invoked using a colon (:)
# control\_container

This type represents an abstract control with a container.

{% hint style="info" %}
This type inherits [`control`](../control) type. All of its base methods and fields are also available in this type.
{% endhint %}

{% hint style="info" %}
This type inherits [`container`]() type. All of its base methods and fields are also available in this type.
{% endhint %}
# layout

This type represents a layout control.

{% hint style="info" %}
This type inherits [`control_container`]() type. All of its base methods and fields are also available in this type.
{% endhint %}
# layout

This type represents a layout control.

{% hint style="info" %}
This type inherits [`control_container`]() type. All of its base methods and fields are also available in this type.
{% endhint %}
# ws

Usage:

`ws.{function}`

This table exposes Workshop utilities.

***

## get\_item\_id

&#x20;<kbd><mark style="color:blue;">**Function**<mark style="color:blue;"></kbd>&#x20;

Returns current Item ID. Local scripts always return 0.

**Arguments**

None.

**Returns**

| Type     | Description |
| -------- | ----------- |
| `number` | Item ID.    |

**Example**

```lua
local item_id = ws.get_item_id();
```

***

## get\_build\_id

<kbd><mark style="color:blue;">**Function**<mark style="color:blue;"></kbd>

Returns current Build ID. Local scripts always return 0.

**Arguments**

None.

**Returns**

| Type     | Description |
| -------- | ----------- |
| `number` | Build ID.   |

**Example**

```lua
local build_id = ws.get_build_id();
```

***

## get\_title

<kbd><mark style="color:blue;">**Function**<mark style="color:blue;"></kbd>

Returns current script title.

**Arguments**

None.

**Returns**

| Type     | Description |
| -------- | ----------- |
| `string` | Title.      |

**Example**

```lua
local title = ws.get_title();
```

***

## test\_capability

<kbd><mark style="color:blue;">**Function**<mark style="color:blue;"></kbd>

Returns whether current script has a capability enabled. Available capabilities: `ffi`, `clipboard` , `fs`

**Arguments**

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `cpb` | `string` | Capability ID. |

**Returns**

| Type   | Description                                 |
| ------ | ------------------------------------------- |
| `bool` | True if script has the provided capability. |

**Example**

```lua
if ws.test_capability('clipboard') then
    utils.clipboard_set('Hello!');
end
```

***

## get\_resource\_dir

<kbd><mark style="color:blue;">**Function**<mark style="color:blue;"></kbd>

Returns resource directory for this script. It is recommended to use this function only for Workshop scripts, as that is where your resources will be unpacked to.

**Arguments**

None.

**Returns**

| Type     | Description                                            |
| -------- | ------------------------------------------------------ |
| `string` | Resource directory. Example: `fatality/resource/12345` |

**Example**

```lua
local resource_dir = ws.get_resource_dir();
local tex = draw.texture(resource_dir . '/my_texture.png');
```
# utils

Usage:

`utils.{function}`

This table exposes various utility functions.

***

## base64\_encode﻿ <a href="#base64-encode" id="base64-encode"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Encode a string to Base64 format.

**Arguments**

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `str` | `string` | Source string. |

**Returns**

| Type     | Description            |
| -------- | ---------------------- |
| `string` | Base64-encoded string. |

**Example**

```lua
local enc = utils.base64_encode('Hello!'); -- SGVsbG8h
```

***

## base64\_decode﻿ <a href="#base64-decode" id="base64-decode"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Decode Base64-encoded string.

**Arguments**

| Name  | Type     | Description            |
| ----- | -------- | ---------------------- |
| `str` | `string` | Base64-encoded string. |

**Returns**

| Type     | Description    |
| -------- | -------------- |
| `string` | Source string. |

**Example**

```lua
local dec = utils.base64_decode('SGVsbG8h'); -- Hello!
```

***

## get\_unix\_time﻿ <a href="#get-unix-time" id="get-unix-time"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns current time as UNIX timestamp.

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Timestamp.  |

**Example**

```lua
local ts = utils.get_unix_time();
```

***

## murmur2﻿ <a href="#murmur2" id="murmur2"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns MURMUR2-hashed string.

**Arguments**

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `str` | `string` | Source string. |

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Hash.       |

**Example**

```lua
local hash = utils.murmur2('Hello');
```

***

## fnv1a﻿ <a href="#fnv1a" id="fnv1a"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns FNV1A-hashed string.

**Arguments**

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `str` | `string` | Source string. |

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Hash.       |

**Example**

```lua
local hash = utils.fnv1a('Hello');
```

***

## find\_export﻿ <a href="#find-export" id="find-export"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Returns an address to an export in an image.

**Arguments**

| Name  | Type     | Description       |
| ----- | -------- | ----------------- |
| `mod` | `string` | Image to look in. |
| `exp` | `string` | Export symbol.    |

**Returns**

| Type  | Description                 |
| ----- | --------------------------- |
| `int` | Address, or `0` on failure. |

**Example**

```lua
local message_box = utils.find_export('user32.dll', 'MessageBoxA');
```

***

## find\_pattern﻿ <a href="#find-pattern" id="find-pattern"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Searches for a code pattern in an image.

**Arguments**

| Name      | Type     | Description         |
| --------- | -------- | ------------------- |
| `mod`     | `string` | Image to search in. |
| `pattern` | `string` | Code pattern.       |

**Returns**

| Type  | Description                 |
| ----- | --------------------------- |
| `int` | Address, or `0` on failure. |

**Example**

```lua
local something = utils.find_pattern('engine2.dll', 'DE AD ? ? ? ? BE EF');
```

***

## clipboard\_get﻿ <a href="#clipboard-get" id="clipboard-get"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Returns current clipboard content.

**Arguments**

None.

**Returns**

| Type     | Description        |
| -------- | ------------------ |
| `string` | Clipboard content. |

**Example**

```lua
local clip = utils.clipboard_get();
```

***

## clipboard\_set﻿ <a href="#clipboard-set" id="clipboard-set"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Sets new clipboard content.

**Arguments**

| Name  | Type     | Description  |
| ----- | -------- | ------------ |
| `str` | `string` | New content. |

**Returns**

Nothing.

**Example**

```lua
utils.clipboard_set('Hello!');
```

[^1]: This field is a function and must be invoked using a dot (.)

[^2]: 
# utils

Usage:

`utils.{function}`

This table exposes various utility functions.

***

## base64\_encode﻿ <a href="#base64-encode" id="base64-encode"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Encode a string to Base64 format.

**Arguments**

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `str` | `string` | Source string. |

**Returns**

| Type     | Description            |
| -------- | ---------------------- |
| `string` | Base64-encoded string. |

**Example**

```lua
local enc = utils.base64_encode('Hello!'); -- SGVsbG8h
```

***

## base64\_decode﻿ <a href="#base64-decode" id="base64-decode"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Decode Base64-encoded string.

**Arguments**

| Name  | Type     | Description            |
| ----- | -------- | ---------------------- |
| `str` | `string` | Base64-encoded string. |

**Returns**

| Type     | Description    |
| -------- | -------------- |
| `string` | Source string. |

**Example**

```lua
local dec = utils.base64_decode('SGVsbG8h'); -- Hello!
```

***

## get\_unix\_time﻿ <a href="#get-unix-time" id="get-unix-time"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns current time as UNIX timestamp.

**Arguments**

None.

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Timestamp.  |

**Example**

```lua
local ts = utils.get_unix_time();
```

***

## murmur2﻿ <a href="#murmur2" id="murmur2"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns MURMUR2-hashed string.

**Arguments**

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `str` | `string` | Source string. |

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Hash.       |

**Example**

```lua
local hash = utils.murmur2('Hello');
```

***

## fnv1a﻿ <a href="#fnv1a" id="fnv1a"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns FNV1A-hashed string.

**Arguments**

| Name  | Type     | Description    |
| ----- | -------- | -------------- |
| `str` | `string` | Source string. |

**Returns**

| Type  | Description |
| ----- | ----------- |
| `int` | Hash.       |

**Example**

```lua
local hash = utils.fnv1a('Hello');
```

***

## find\_export﻿ <a href="#find-export" id="find-export"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Returns an address to an export in an image.

**Arguments**

| Name  | Type     | Description       |
| ----- | -------- | ----------------- |
| `mod` | `string` | Image to look in. |
| `exp` | `string` | Export symbol.    |

**Returns**

| Type  | Description                 |
| ----- | --------------------------- |
| `int` | Address, or `0` on failure. |

**Example**

```lua
local message_box = utils.find_export('user32.dll', 'MessageBoxA');
```

***

## find\_pattern﻿ <a href="#find-pattern" id="find-pattern"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Searches for a code pattern in an image.

**Arguments**

| Name      | Type     | Description         |
| --------- | -------- | ------------------- |
| `mod`     | `string` | Image to search in. |
| `pattern` | `string` | Code pattern.       |

**Returns**

| Type  | Description                 |
| ----- | --------------------------- |
| `int` | Address, or `0` on failure. |

**Example**

```lua
local something = utils.find_pattern('engine2.dll', 'DE AD ? ? ? ? BE EF');
```

***

## clipboard\_get﻿ <a href="#clipboard-get" id="clipboard-get"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Returns current clipboard content.

**Arguments**

None.

**Returns**

| Type     | Description        |
| -------- | ------------------ |
| `string` | Clipboard content. |

**Example**

```lua
local clip = utils.clipboard_get();
```

***

## clipboard\_set﻿ <a href="#clipboard-set" id="clipboard-set"></a>

[<kbd><mark style="background-color:purple;">**Function**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1][<kbd><mark style="background-color:red;">Insecure only<mark style="background-color:red;"></kbd>](#user-content-fn-2)[^2]

Sets new clipboard content.

**Arguments**

| Name  | Type     | Description  |
| ----- | -------- | ------------ |
| `str` | `string` | New content. |

**Returns**

Nothing.

**Example**

```lua
utils.clipboard_set('Hello!');
```

[^1]: This field is a function and must be invoked using a dot (.)

[^2]: 
# Types

In this section, you’ll find the most common types that aren’t tied to any specific service or module.

{% hint style="success" %}
Use the left menu (or hamburger menu on mobile) to navigate between enums.
{% endhint %}
# ptr

This type is a literal pointer.

To preserve interoperability with C++, several functions return `void*` as the type, which then get converted to `light_userdata`. Since you can’t directly cast FFI types to `light_userdata`, we’ve introduced a specialized type helping with this conversion.

Before you convert your pointer to one that is supported by the API, you need to cast it to `uintptr_t`. This can be done in the following manner:

```lua
local ptr_num = ffi.cast('uintptr_t', ptr_cdata);
```

Then, you can use the cast value in this type's constructor.

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Converts a number to pointer.

**Arguments**

| Name  | Type  | Description         |
| ----- | ----- | ------------------- |
| `num` | `int` | Pointer, as number. |

**Returns**

| Type  | Description                   |
| ----- | ----------------------------- |
| `ptr` | Pointer, as `light_userdata`. |

**Example**

```lua
-- cast to number first
local ptr_num = ffi.cast('uintptr_t', ptr_cdata);

-- then cast to light_userdata
local ptr_ld = ptr(ptr_num);
```

[^1]: This is a constructor definition for this type.
# ref\_holder\_t

This type acts as a proxy for reference variables that are used internally. Since Lua is a value-only language, it does not support references. Instead, an instance of this type is used to preserve interoperability with C++.

{% hint style="info" %}
Note that `<type>` indicates the specific type this instance holds. For example, if you see `ref_holder_t<float>`, it means the `val` field holds a float value and will only accept float values when it’s updated.
{% endhint %}

## val﻿ <a href="#val" id="val"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `<type>`

Value holder. Use as the source value, or override it to change internally.

[^1]: This field is a regular field that must be accessed using a dot (.)
# vector

This type is a common 3D vector (x, y, z).

{% hint style="info" %}
This type supports operations, such as `+`, `-`, `/`, `*` and `==`.
{% endhint %}

## x﻿ <a href="#x" id="x"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

X coordinate.

## y﻿ <a href="#y" id="y"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

Y coordinate.

## z﻿ <a href="#z" id="z"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

Z coordinate.

***

## \_\_call﻿ <a href="#call" id="call"></a>

[<kbd><mark style="background-color:purple;">**Constructor**<mark style="background-color:purple;"></kbd>](#user-content-fn-2)[^2]

Constructs a vector.

**Arguments**

_1. Default vector (0, 0, 0)._

None.

_2. Single value._

| Name    | Type    | Description          |
| ------- | ------- | -------------------- |
| `value` | `float` | X and Y coordinates. |

_3. XYZ values._

| Name | Type    | Description   |
| ---- | ------- | ------------- |
| `x`  | `float` | X coordinate. |
| `y`  | `float` | Y coordinate. |
| `z`  | `float` | Z coordinate. |

**Returns**

| Type     | Description |
| -------- | ----------- |
| `vector` | Vector.     |

**Example**

```lua
local vec = vector(5, 25, 12);
```

***

## is\_zero﻿ <a href="#is-zero" id="is-zero"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns `true` if this vector is within tolerance range.

**Arguments**

| Name        | Type    | Description                                |
| ----------- | ------- | ------------------------------------------ |
| `tolerance` | `float` | Max allowed tolerance. Defaults to `0.01`. |

**Returns**

| Type   | Description                                            |
| ------ | ------------------------------------------------------ |
| `bool` | `true` if ranges between `-tolerance` and `tolerance`. |

**Example**

```lua
local vec = vector(0, 0.1, 0.5);
print(tostring(vec:is_zero(1))); -- will print 'true', because every value fits in the range of -1 and 1
```

***

## dist﻿ <a href="#dist" id="dist"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns distance to another vector.

**Arguments**

| Name    | Type     | Description                           |
| ------- | -------- | ------------------------------------- |
| `other` | `vector` | Vector to calculate distance against. |

**Returns**

| Type    | Description               |
| ------- | ------------------------- |
| `float` | Distance to other vector. |

**Example**

```lua
local vec1 = vector(0, 0, 0);
local vec2 = vector(1, 1, 5);
print(tostring(vec1:dist(vec2)));
```

***

## dist\_sqr﻿ <a href="#dist-sqr" id="dist-sqr"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns squared distance to another vector.

{% hint style="info" %}
This method is de-facto faster than the non-squared variant. Use it, if you need extra performance.
{% endhint %}

**Arguments**

| Name    | Type     | Description                           |
| ------- | -------- | ------------------------------------- |
| `other` | `vector` | Vector to calculate distance against. |

**Returns**

| Type    | Description                       |
| ------- | --------------------------------- |
| `float` | Squared distance to other vector. |

**Example**

```lua
local vec1 = vector(0, 0, 0);
local vec2 = vector(1, 1, 5);
print(tostring(vec1:dist_sqr(vec2)));
```

***

## dist\_2d﻿ <a href="#dist-2d" id="dist-2d"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns 2D (only `x` and `y` values) distance to another vector.

**Arguments**

| Name    | Type     | Description                           |
| ------- | -------- | ------------------------------------- |
| `other` | `vector` | Vector to calculate distance against. |

**Returns**

| Type    | Description               |
| ------- | ------------------------- |
| `float` | Distance to other vector. |

**Example**

```lua
local vec1 = vector(0, 0, 0);
local vec2 = vector(1, 1, 5);
print(tostring(vec1:dist_2d(vec2)));
```

***

## dist\_2d\_sqr﻿ <a href="#dist-2d-sqr" id="dist-2d-sqr"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns squared 2D (only `x` and `y` values) distance to another vector.

{% hint style="info" %}
This method is de-facto faster than the non-squared variant. Use it, if you need extra performance.
{% endhint %}

**Arguments**

| Name    | Type     | Description                           |
| ------- | -------- | ------------------------------------- |
| `other` | `vector` | Vector to calculate distance against. |

**Returns**

| Type    | Description                       |
| ------- | --------------------------------- |
| `float` | Squared distance to other vector. |

**Example**

```lua
local vec1 = vector(0, 0, 0);
local vec2 = vector(1, 1, 5);
print(tostring(vec1:dist_2d_sqr(vec2)));
```

***

## cross﻿ <a href="#cross" id="cross"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns a cross product to another vector.

**Arguments**

| Name    | Type     | Description                                |
| ------- | -------- | ------------------------------------------ |
| `other` | `vector` | Vector to calculate cross product against. |

**Returns**

| Type     | Description    |
| -------- | -------------- |
| `vector` | Cross product. |

**Example**

```lua
local vec1 = vector(0, 0, 0);
local vec2 = vector(1, 1, 5);
local cross = vec1:cross(vec2);
```

***

## is\_valid﻿ <a href="#is-valid" id="is-valid"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns `true` if all values in this vector are finite.

**Arguments**

None.

**Returns**

| Type   | Description                  |
| ------ | ---------------------------- |
| `bool` | `true` if values are finite. |

**Example**

```lua
local vec = vector(5, 1, 6);
if vec:is_valid() then
    -- ...
end
```

***

## length﻿ <a href="#length" id="length"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns length of this vector.

**Arguments**

None.

**Returns**

| Type    | Description            |
| ------- | ---------------------- |
| `float` | Length of this vector. |

**Example**

```lua
local vec = vector(5, 1, 6);
local length = vec:length();
```

***

## length\_sqr﻿ <a href="#length-sqr" id="length-sqr"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns squared length of this vector.

{% hint style="info" %}
This method is de-facto faster than the non-squared variant. Use it, if you need extra performance.
{% endhint %}

**Arguments**

None.

**Returns**

| Type    | Description            |
| ------- | ---------------------- |
| `float` | Length of this vector. |

**Example**

```lua
local vec = vector(5, 1, 6);
local length = vec:length_sqr();
```

***

## length\_2d﻿ <a href="#length-2d" id="length-2d"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns 2D length of this vector.

**Arguments**

None.

**Returns**

| Type    | Description            |
| ------- | ---------------------- |
| `float` | Length of this vector. |

**Example**

```lua
local vec = vector(5, 1, 6);
local length = vec:length_2d();
```

***

## length\_2d\_sqr﻿ <a href="#length-2d-sqr" id="length-2d-sqr"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns squared 2D length of this vector.

{% hint style="info" %}
This method is de-facto faster than the non-squared variant. Use it, if you need extra performance.
{% endhint %}

**Arguments**

None.

**Returns**

| Type    | Description            |
| ------- | ---------------------- |
| `float` | Length of this vector. |

**Example**

```lua
local vec = vector(5, 1, 6);
local length = vec:length_2d_sqr();
```

***

## dot﻿ <a href="#dot" id="dot"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-3)[^3]

Returns dot product of 2 vectors.

**Arguments**

| Name    | Type     | Description                              |
| ------- | -------- | ---------------------------------------- |
| `other` | `vector` | Vector to calculate dot product against. |

**Returns**

| Type    | Description  |
| ------- | ------------ |
| `float` | Dot product. |

**Example**

```lua
local vec1 = vector(0, 0, 0);
local vec2 = vector(1, 1, 5);
local dot = vec1:dot(vec2);
```

[^1]: This field is a regular field that must be accessed using a dot (.)

[^2]: This is a constructor definition for this type.

[^3]: This field is a method and must be invoked using a colon (:)
# vector4d

This type is a common 4D vector (x, y, z, w).

## x﻿ <a href="#x" id="x"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

***

## y﻿ <a href="#y" id="y"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

***

## z﻿ <a href="#z" id="z"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

***

## w﻿ <a href="#w" id="w"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`
# veccolor

This type is the games cvar color value vector (r, g, b).

## r﻿ <a href="#r" id="r"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

***

## g﻿ <a href="#g" id="g"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`

***

## b﻿ <a href="#b" id="b"></a>

<mark style="color:green;">**`Field`**</mark>

Type: `float`
# color



{% hint style="danger" %}
Do not mistake this type with [`color`](../instances/draw/types/color) that is used for rendering! While these types are interchangeable internally, they are NOT in the API.
{% endhint %}
# cview\_setup

Describes view setup parameters.

## fov﻿ <a href="#fov" id="fov"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

Current FOV (Field of View).

***

## fov\_viewmodel﻿ <a href="#fov-viewmodel" id="fov-viewmodel"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

Current viewmodel's FOV.

***

## origin﻿ <a href="#origin" id="origin"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`vector`](vector)

Current view origin.

***

## view﻿ <a href="#view" id="view"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: [`vector`](vector)

Current view angles.

***

## aspect\_ratio﻿ <a href="#aspect-ratio" id="aspect-ratio"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Type: `float`

Current aspect ratio (width / height) of the view.

[^1]: This field is a regular field that must be accessed using a dot (.)
# cuser\_cmd

Describes a user command.

## command\_number﻿ <a href="#command-number" id="command-number"></a>

<mark style="color:green;">**`Field`**</mark><mark style="color:red;">**`Read only`**</mark>

Type: `int`

Current command number.

***

## get\_button﻿ <a href="#get-button" id="get-button"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns state of the specified button.

**Arguments**

1\. Button

| Name     | Type                                        | Description |
| -------- | ------------------------------------------- | ----------- |
| `button` | [`input_bit_mask`](../enums/input_bit_mask) | Button.     |

**Returns**

| Type   | Description |
| ------ | ----------- |
| `bool` | Is pressed. |

**Example**

```lua
if cmd:get_button(input_bit_mask.in_use) then
    -- ...
end
```

***

## set\_button﻿ <a href="#set-button" id="set-button"></a>

<mark style="color:purple;">**`Method`**</mark>

Sets the specified button into the command.

**Arguments**

1\. Button

| Name     | Type                                        | Description |
| -------- | ------------------------------------------- | ----------- |
| `button` | [`input_bit_mask`](../enums/input_bit_mask) | Button.     |

**Example**

```lua
cmd:set_button(input_bit_mask.in_use)
```

***

## remove\_button﻿ <a href="#remove-button" id="remove-button"></a>

<mark style="color:purple;">**`Method`**</mark>

Removes the specified button from the command.

**Arguments**

1\. Button

| Name     | Type                                        | Description |
| -------- | ------------------------------------------- | ----------- |
| `button` | [`input_bit_mask`](../enums/input_bit_mask) | Button.     |

**Example**

```lua
cmd:remove_button(input_bit_mask.in_attack)
```

***

## get\_viewangles﻿ <a href="#get-viewangles" id="get-viewangles"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns the current viewangles of the command.

**Arguments**

None.

**Returns**

| Type               | Description |
| ------------------ | ----------- |
| [`vector`](vector) | Viewangles. |

**Example**

```lua
local ang = cmd:get_viewangles();
```

***

## set\_viewangles﻿ <a href="#set-viewangles" id="set-viewangles"></a>

<mark style="color:purple;">**`Method`**</mark>

Sets the specified angles into the command.

**Arguments**

1\. Angles

| Name     | Type               | Description |
| -------- | ------------------ | ----------- |
| `angles` | [`vector`](vector) | Angles.     |

**Example**

```lua
cmd:set_viewangles(target_angles)
```

***

## lock\_angles﻿ <a href="#lock-angles" id="lock-angles"></a>

<mark style="color:purple;">**`Method`**</mark>

Sets the command viewangles into the games view.

**Arguments**

None.

**Example**

```lua
cmd:set_viewangles(target_angles)
cmd:lock_angles()
```

***

## get\_forwardmove﻿ <a href="#get-forwardmove" id="get-forwardmove"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns the forwardmove of the command. (0.0 - 1.0)

**Arguments**

None.

**Returns**

| Type    | Description  |
| ------- | ------------ |
| `float` | forwardmove. |

**Example**

```lua
local fmove = cmd:get_forwardmove();
```

***

## get\_leftmove﻿ <a href="#get-leftmove" id="get-leftmove"></a>

<mark style="color:purple;">**`Method`**</mark>

Returns the leftmove of the command. (0.0 - 1.0)

**Arguments**

None.

**Returns**

| Type    | Description |
| ------- | ----------- |
| `float` | leftmove.   |

**Example**

```lua
local lmove = cmd:get_leftmove();
```

***

## set\_forwardmove﻿ <a href="#set-forwardmove" id="set-forwardmove"></a>

<mark style="color:purple;">**`Method`**</mark>

Sets the specified forwardmove into the command. (0.0 - 1.0)

**Arguments**

| Type    | Description  |
| ------- | ------------ |
| `float` | forwardmove. |

**Example**

```lua
cmd:set_forwardmove(1.0);
```

***

## set\_leftmove﻿ <a href="#set-leftmove" id="set-leftmove"></a>

<mark style="color:purple;">**`Method`**</mark>

Sets the specified leftmove into the command. (0.0 - 1.0)

**Arguments**

| Type    | Description |
| ------- | ----------- |
| `float` | leftmove.   |

**Example**

```lua
cmd:set_leftmove(1.0);
```

***

## rotate\_movement﻿ <a href="#rotate-movement" id="rotate-movement"></a>

<mark style="color:purple;">**`Method`**</mark>

Rotates the commands movement toward the specified yaw without affecting viewangles.

**Arguments**

| Type    | Description |
| ------- | ----------- |
| `float` | yaw.        |

**Example**

```lua
cmd:set_leftmove(0.0);
cmd:set_forwardmove(1.0);
cmd:rotate_movement(target_yaw);
```
# game\_event\_t

Describes a game event.

## get\_name﻿ <a href="#get-name" id="get-name"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the event name.

**Arguments**

None.

**Returns**

| Type     | Description |
| -------- | ----------- |
| `string` | Event name. |

**Example**

```lua
if event:get_name() == 'player_hurt' then
    -- ...
end
```

***

## get\_bool﻿ <a href="#get-bool" id="get-bool"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the boolean value by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Entry key.  |

**Returns**

| Type   | Description                                             |
| ------ | ------------------------------------------------------- |
| `bool` | Entry value. Returns `false` if such key was not found. |

**Example**

```lua
event:get_bool('some_key');
```

***

## get\_int﻿ <a href="#get-int" id="get-int"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the integer value by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Entry key.  |

**Returns**

| Type  | Description                                         |
| ----- | --------------------------------------------------- |
| `int` | Entry value. Returns `0` if such key was not found. |

**Example**

```lua
event:get_int('some_key');
```

***

## get\_float﻿ <a href="#get-float" id="get-float"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the float value by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Entry key.  |

**Returns**

| Type    | Description                                           |
| ------- | ----------------------------------------------------- |
| `float` | Entry value. Returns `0.0` if such key was not found. |

**Example**

```lua
event:get_float('some_key');
```

***

## get\_string﻿ <a href="#get-string" id="get-string"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the string value by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Entry key.  |

**Returns**

| Type     | Description                                           |
| -------- | ----------------------------------------------------- |
| `string` | Entry value. Returns `nil` if such key was not found. |

**Example**

```lua
event:get_string('some_key');
```

***

## get\_controller﻿ <a href="#get-controller" id="get-controller"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

{% hint style="danger" %}
If you pass a non-existent key into this function, the game might crash.
{% endhint %}

Returns the controller by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Entry key.  |

**Returns**

| Type                                                                               | Description |
| ---------------------------------------------------------------------------------- | ----------- |
| [`cs2_player_controller`](../instances/entities/base_entity/cs2_player_controller) | Controller. |

**Example**

```lua
event:get_controller('userid');
```

***

## get\_pawn\_from\_id﻿ <a href="#get-pawn-from-id" id="get-pawn-from-id"></a>

[<kbd><mark style="background-color:purple;">**Method**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Returns the pawn by key.

**Arguments**

| Name  | Type     | Description |
| ----- | -------- | ----------- |
| `key` | `string` | Entry key.  |

**Returns**

| Type                                                                   | Description |
| ---------------------------------------------------------------------- | ----------- |
| [`cs2_player_pawn`](../instances/entities/base_entity/cs2_player_pawn) | Pawn.       |

**Example**

```lua
event:get_pawn_from_id('userid');
```

[^1]: This field is a method and must be invoked using a colon (:)
# Enums

In this section, the most common enums are listed, that are not particularly bound to a service or module.

{% hint style="info" %}
Use the left menu (or hamburger menu, if you are on mobile) to navigate between enums.
{% endhint %}
# client\_frame\_stage

Contains keys for various frame rendering stages.

## undefined﻿ <a href="#undefined" id="undefined"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

This describes a stage that is not defined. You should realistically never receive this type.

***

## start﻿ <a href="#start" id="start"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Frame build process is starting.

***

## render\_start﻿ <a href="#render-start" id="render-start"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Frame render process is starting.

***

## net\_update\_start﻿ <a href="#net-update-start" id="net-update-start"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Network update process is starting.

***

## net\_update\_preprocess﻿ <a href="#net-update-preprocess" id="net-update-preprocess"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Network update is about to be processed by the engine.

***

## net\_pre\_entity\_packet﻿ <a href="#net-pre-entity-packet" id="net-pre-entity-packet"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Incoming entity packets are about to be processed by the game.

***

## net\_update\_postdataupdate\_start﻿ <a href="#net-update-postdataupdate-start" id="net-update-postdataupdate-start"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Entity information is about to be updated.

***

## net\_update\_postdataupdate\_end﻿ <a href="#net-update-postdataupdate-end" id="net-update-postdataupdate-end"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Entity information is about to finish updating.

***

## net\_update\_end﻿ <a href="#net-update-end" id="net-update-end"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Network update process is ending.

***

## net\_creation﻿ <a href="#net-creation" id="net-creation"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

New entities are about to be created.

***

## render\_end﻿ <a href="#render-end" id="render-end"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

Frame rendering process is ending.

[^1]: This field is a regular field that must be accessed using a dot (.)
# input\_bit\_mask

Contains all buttons used in a user command.

## in\_attack﻿ <a href="#in-attack" id="in-attack"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_attack2﻿ <a href="#in-attack2" id="in-attack2"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_jump﻿ <a href="#in-jump" id="in-jump"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_duck﻿ <a href="#in-duck" id="in-duck"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_forward﻿ <a href="#in-forward" id="in-forward"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_back﻿ <a href="#in-back" id="in-back"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_use﻿ <a href="#in-use" id="in-use"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_turnleft﻿ <a href="#in-turnleft" id="in-turnleft"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_turnright﻿ <a href="#in-turnright" id="in-turnright"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_moveleft﻿ <a href="#in-moveleft" id="in-moveleft"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_reload﻿ <a href="#in-reload" id="in-reload"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_speed﻿ <a href="#in-speed" id="in-speed"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_joyautosprint﻿ <a href="#in-joyautosprint" id="in-joyautosprint"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_useorreload﻿ <a href="#in-useorreload" id="in-useorreload"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_score﻿ <a href="#in-score" id="in-score"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_zoom﻿ <a href="#in-zoom" id="in-zoom"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***

## in\_look\_at\_weapon﻿ <a href="#in-look-at-weapon" id="in-look-at-weapon"></a>

[<kbd><mark style="background-color:purple;">**Field**<mark style="background-color:purple;"></kbd>](#user-content-fn-1)[^1]

***



[^1]: This field is a regular field that must be accessed using a dot (.)

